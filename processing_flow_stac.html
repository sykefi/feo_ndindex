<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>processing_flow_stac â€“ Gapless S2 index mosaics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-160001e5a9f6b9d13a60e8e58f0fc473.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Gapless S2 index mosaics</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./processing_flow_stac.html" aria-current="page"> 
<span class="menu-text">Processing flow with Paituli STAC</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#create-base-mosaics-for-spring-and-autumn" id="toc-create-base-mosaics-for-spring-and-autumn" class="nav-link active" data-scroll-target="#create-base-mosaics-for-spring-and-autumn">Create base mosaics for spring and autumn</a></li>
  <li><a href="#fill-gaps-with-the-maximum-value-of-previous-two-years" id="toc-fill-gaps-with-the-maximum-value-of-previous-two-years" class="nav-link" data-scroll-target="#fill-gaps-with-the-maximum-value-of-previous-two-years">Fill gaps with the maximum value of previous two years</a></li>
  <li><a href="#fill-april-and-may-with-spring-mosaic" id="toc-fill-april-and-may-with-spring-mosaic" class="nav-link" data-scroll-target="#fill-april-and-may-with-spring-mosaic">Fill April and May with spring mosaic</a></li>
  <li><a href="#fill-october-with-autumn-mosaic" id="toc-fill-october-with-autumn-mosaic" class="nav-link" data-scroll-target="#fill-october-with-autumn-mosaic">Fill October with autumn mosaic</a></li>
  <li><a href="#fill-growth-season-months-with-mean-values-of-previous-and-next-month-of-the-same-year" id="toc-fill-growth-season-months-with-mean-values-of-previous-and-next-month-of-the-same-year" class="nav-link" data-scroll-target="#fill-growth-season-months-with-mean-values-of-previous-and-next-month-of-the-same-year">Fill growth season months with mean values of previous and next month of the same year</a></li>
  <li><a href="#derive-the-statistics" id="toc-derive-the-statistics" class="nav-link" data-scroll-target="#derive-the-statistics">Derive the statistics</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<div id="264b1f1f-dd5e-41c4-a39c-ececfa2150f0" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>load_ext autoreload</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>autoreload <span class="dv">2</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rasterio <span class="im">as</span> rio</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pathlib <span class="im">import</span> Path</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> src.functions <span class="im">import</span> <span class="op">*</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> cubo</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xarray <span class="im">as</span> xr</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rioxarray <span class="im">as</span> rxr</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyproj <span class="im">import</span> Transformer</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This example shows how to process Sentinel 2 index mosaics available <a href="https://ckan.ymparisto.fi/dataset/sentinel-2-image-index-mosaics-s2ind-sentinel-2-kuvamosaiikit-s2ind">here</a> into gapless mosaics and derive yearly statistics using Paituli STAC.</p>
<p>First, set the url for Paituli stac.</p>
<div id="28cb7709-4f00-4d9a-b491-9e55e6c64697" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>paituli_stac_url <span class="op">=</span> <span class="st">'https://paituli.csc.fi/geoserver/ogc/stac/v1'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Use <a href="https://cubo.readthedocs.io/en/latest/"><code>cubo</code></a> to easily create the required data cube. Cubo requires the coordinates to be in <code>EPSG:4326</code> so we need a transformer.</p>
<div id="4e97343f-615c-4d92-8524-6c94291d0043" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> Transformer.from_crs(<span class="st">'EPSG:3067'</span>, <span class="st">'EPSG:4326'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>lat, lon <span class="op">=</span> t.transform(<span class="dv">457325</span>, <span class="dv">7702545</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b748210f-b5db-4775-87c5-52767da303e7" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>da <span class="op">=</span> cubo.create(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    lat<span class="op">=</span>lat, <span class="co"># Central latitude of the cube</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    lon<span class="op">=</span>lon, <span class="co"># Central longitude of the cube</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    collection<span class="op">=</span><span class="st">"sentinel_2_monthly_index_mosaics_at_fmi"</span>, <span class="co"># Name of the STAC collection</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    bands<span class="op">=</span>[<span class="st">"ndvi"</span>], <span class="co"># Bands to retrieve</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    start_date<span class="op">=</span><span class="st">"2016-04-01"</span>, <span class="co"># Start date of the cube</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    end_date<span class="op">=</span><span class="st">"2025-05-31"</span>, <span class="co"># End date of the cube</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    edge_size<span class="op">=</span><span class="dv">4000</span>, <span class="co"># Edge size of the cube (px)</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    resolution<span class="op">=</span><span class="dv">10</span>, <span class="co"># Pixel size of the cube (m),</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    stac<span class="op">=</span>paituli_stac_url</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we have a datacube. As it is a dask array, the data is processed only after the graphs are created.</p>
<div id="0a18ac38-d040-4099-b068-611106d4ff9b" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>da</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "â–º";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "â–¼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray 'sentinel_2_monthly_index_mosaics_at_fmi' (time: 117,
                                                             band: 1, y: 4000,
                                                             x: 4000)&gt; Size: 15GB
dask.array&lt;fetch_raster_window, shape=(117, 1, 4000, 4000), dtype=float64, chunksize=(1, 1, 1024, 1024), chunktype=numpy.ndarray&gt;
Coordinates: (12/13)
  * time                       (time) datetime64[ns] 936B 2016-04-01 ... 2024...
    id                         (time) &lt;U49 23kB 'Sentinel-2_indeksimosaiikki_...
  * band                       (band) &lt;U4 16B 'ndvi'
  * x                          (x) float64 32kB 4.373e+05 ... 4.773e+05
  * y                          (y) float64 32kB 7.723e+06 ... 7.683e+06
    start_datetime             (time) &lt;U29 14kB '2016-04-01T00:00:00.000+00:0...
    ...                         ...
    proj:code                  &lt;U9 36B 'EPSG:3067'
    end_datetime               (time) &lt;U29 14kB '2016-04-30T23:59:59.000+00:0...
    proj:transform             object 8B {0, 1, 7800000, 10, 50000, -10}
    title                      &lt;U4 16B 'ndvi'
    epsg                       int64 8B 32635
    cubo:distance_from_center  (y, x) float64 128MB 2.828e+04 ... 2.827e+04
Attributes:
    collection:           sentinel_2_monthly_index_mosaics_at_fmi
    stac:                 https://paituli.csc.fi/geoserver/ogc/stac/v1
    epsg:                 32635
    resolution:           10
    edge_size:            4000
    central_lat:          69.42870189667391
    central_lon:          25.911697105643754
    central_y:            7702545.000115293
    central_x:            457325.0000006164
    time_coverage_start:  2016-04-01
    time_coverage_end:    2025-05-31</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name">'sentinel_2_monthly_index_mosaics_at_fmi'</div><ul class="xr-dim-list"><li><span class="xr-has-index">time</span>: 117</li><li><span class="xr-has-index">band</span>: 1</li><li><span class="xr-has-index">y</span>: 4000</li><li><span class="xr-has-index">x</span>: 4000</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-40cf0616-ee09-4421-80ee-fcc74f2c941e" class="xr-array-in" type="checkbox" checked=""><label for="section-40cf0616-ee09-4421-80ee-fcc74f2c941e" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>dask.array&lt;chunksize=(1, 1, 1024, 1024), meta=np.ndarray&gt;</span></div><div class="xr-array-data">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td><table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th></th>
<th data-quarto-table-cell-role="th">Array</th>
<th data-quarto-table-cell-role="th">Chunk</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bytes</td>
<td>13.95 GiB</td>
<td>8.00 MiB</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Shape</td>
<td>(117, 1, 4000, 4000)</td>
<td>(1, 1, 1024, 1024)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Dask graph</td>
<td colspan="2">1872 chunks in 3 graph layers</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Data type</td>
<td colspan="2">float64 numpy.ndarray</td>
</tr>
</tbody>
</table></td>
<td><svg width="386" height="184" style="stroke:rgb(0,0,0);stroke-width:1">
<!-- Horizontal lines --> <line x1="0" y1="0" x2="31" y2="0" style="stroke-width:2"></line> <line x1="0" y1="25" x2="31" y2="25" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2"></line> <line x1="0" y1="0" x2="0" y2="25"></line> <line x1="1" y1="0" x2="1" y2="25"></line> <line x1="2" y1="0" x2="2" y2="25"></line> <line x1="3" y1="0" x2="3" y2="25"></line> <line x1="4" y1="0" x2="4" y2="25"></line> <line x1="5" y1="0" x2="5" y2="25"></line> <line x1="6" y1="0" x2="6" y2="25"></line> <line x1="7" y1="0" x2="7" y2="25"></line> <line x1="8" y1="0" x2="8" y2="25"></line> <line x1="9" y1="0" x2="9" y2="25"></line> <line x1="10" y1="0" x2="10" y2="25"></line> <line x1="11" y1="0" x2="11" y2="25"></line> <line x1="12" y1="0" x2="12" y2="25"></line> <line x1="13" y1="0" x2="13" y2="25"></line> <line x1="14" y1="0" x2="14" y2="25"></line> <line x1="15" y1="0" x2="15" y2="25"></line> <line x1="16" y1="0" x2="16" y2="25"></line> <line x1="17" y1="0" x2="17" y2="25"></line> <line x1="18" y1="0" x2="18" y2="25"></line> <line x1="19" y1="0" x2="19" y2="25"></line> <line x1="20" y1="0" x2="20" y2="25"></line> <line x1="21" y1="0" x2="21" y2="25"></line> <line x1="22" y1="0" x2="22" y2="25"></line> <line x1="23" y1="0" x2="23" y2="25"></line> <line x1="24" y1="0" x2="24" y2="25"></line> <line x1="25" y1="0" x2="25" y2="25"></line> <line x1="26" y1="0" x2="26" y2="25"></line> <line x1="27" y1="0" x2="27" y2="25"></line> <line x1="28" y1="0" x2="28" y2="25"></line> <line x1="29" y1="0" x2="29" y2="25"></line> <line x1="30" y1="0" x2="30" y2="25"></line> <line x1="31" y1="0" x2="31" y2="25" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="0.0,0.0 31.23906851374821,0.0 31.23906851374821,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"></polygon> <!-- Text --> <text x="15.619534" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle">117</text> <text x="51.239069" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,51.239069,12.706308)">1</text> <!-- Horizontal lines --> <line x1="101" y1="0" x2="115" y2="14" style="stroke-width:2"></line> <line x1="101" y1="30" x2="115" y2="45"></line> <line x1="101" y1="61" x2="115" y2="76"></line> <line x1="101" y1="92" x2="115" y2="107"></line> <line x1="101" y1="120" x2="115" y2="134" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="101" y1="0" x2="101" y2="120" style="stroke-width:2"></line> <line x1="115" y1="14" x2="115" y2="134" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="101.0,0.0 115.9485979497544,14.948597949754403 115.9485979497544,134.9485979497544 101.0,120.0" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Horizontal lines --> <line x1="101" y1="0" x2="221" y2="0" style="stroke-width:2"></line> <line x1="115" y1="14" x2="235" y2="14" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="101" y1="0" x2="115" y2="14" style="stroke-width:2"></line> <line x1="131" y1="0" x2="146" y2="14"></line> <line x1="162" y1="0" x2="177" y2="14"></line> <line x1="193" y1="0" x2="208" y2="14"></line> <line x1="221" y1="0" x2="235" y2="14" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="101.0,0.0 221.0,0.0 235.9485979497544,14.948597949754403 115.9485979497544,14.948597949754403" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Horizontal lines --> <line x1="115" y1="14" x2="235" y2="14" style="stroke-width:2"></line> <line x1="115" y1="45" x2="235" y2="45"></line> <line x1="115" y1="76" x2="235" y2="76"></line> <line x1="115" y1="107" x2="235" y2="107"></line> <line x1="115" y1="134" x2="235" y2="134" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="115" y1="14" x2="115" y2="134" style="stroke-width:2"></line> <line x1="146" y1="14" x2="146" y2="134"></line> <line x1="177" y1="14" x2="177" y2="134"></line> <line x1="208" y1="14" x2="208" y2="134"></line> <line x1="235" y1="14" x2="235" y2="134" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="115.9485979497544,14.948597949754403 235.9485979497544,14.948597949754403 235.9485979497544,134.9485979497544 115.9485979497544,134.9485979497544" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Text --> <text x="175.948598" y="154.948598" font-size="1.0rem" font-weight="100" text-anchor="middle">4000</text> <text x="255.948598" y="74.948598" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,255.948598,74.948598)">4000</text> <text x="98.474299" y="147.474299" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,98.474299,147.474299)">1</text>
</svg></td>
</tr>
</tbody>
</table>
</div></div></li><li class="xr-section-item"><input id="section-b7a716fd-9c02-4059-825a-ffb1805626cd" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-b7a716fd-9c02-4059-825a-ffb1805626cd" class="xr-section-summary">Coordinates: <span>(13)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">time</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">datetime64[ns]</div><div class="xr-var-preview xr-preview">2016-04-01 ... 2024-10-01</div><input id="attrs-42cd0892-2b33-46df-8660-930f1e33bdc9" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-42cd0892-2b33-46df-8660-930f1e33bdc9" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ff826aa2-501e-46f3-bb36-f957298c9b2f" class="xr-var-data-in" type="checkbox"><label for="data-ff826aa2-501e-46f3-bb36-f957298c9b2f" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['2016-04-01T00:00:00.000000000', '2016-04-15T00:00:00.000000000',
       '2016-05-01T00:00:00.000000000', '2016-05-15T00:00:00.000000000',
       '2016-06-01T00:00:00.000000000', '2016-06-15T00:00:00.000000000',
       '2016-07-01T00:00:00.000000000', '2016-07-15T00:00:00.000000000',
       '2016-08-01T00:00:00.000000000', '2016-08-15T00:00:00.000000000',
       '2016-09-01T00:00:00.000000000', '2016-09-15T00:00:00.000000000',
       '2016-10-01T00:00:00.000000000', '2017-04-01T00:00:00.000000000',
       '2017-04-15T00:00:00.000000000', '2017-05-01T00:00:00.000000000',
       '2017-05-15T00:00:00.000000000', '2017-06-01T00:00:00.000000000',
       '2017-06-15T00:00:00.000000000', '2017-07-01T00:00:00.000000000',
       '2017-07-15T00:00:00.000000000', '2017-08-01T00:00:00.000000000',
       '2017-08-15T00:00:00.000000000', '2017-09-01T00:00:00.000000000',
       '2017-09-15T00:00:00.000000000', '2017-10-01T00:00:00.000000000',
       '2018-04-01T00:00:00.000000000', '2018-04-15T00:00:00.000000000',
       '2018-05-01T00:00:00.000000000', '2018-05-15T00:00:00.000000000',
       '2018-06-01T00:00:00.000000000', '2018-06-15T00:00:00.000000000',
       '2018-07-01T00:00:00.000000000', '2018-07-15T00:00:00.000000000',
       '2018-08-01T00:00:00.000000000', '2018-08-15T00:00:00.000000000',
       '2018-09-01T00:00:00.000000000', '2018-09-15T00:00:00.000000000',
       '2018-10-01T00:00:00.000000000', '2019-04-01T00:00:00.000000000',
       '2019-04-15T00:00:00.000000000', '2019-05-01T00:00:00.000000000',
       '2019-05-15T00:00:00.000000000', '2019-06-01T00:00:00.000000000',
       '2019-06-15T00:00:00.000000000', '2019-07-01T00:00:00.000000000',
       '2019-07-15T00:00:00.000000000', '2019-08-01T00:00:00.000000000',
       '2019-08-15T00:00:00.000000000', '2019-09-01T00:00:00.000000000',
       '2019-09-15T00:00:00.000000000', '2019-10-01T00:00:00.000000000',
       '2020-04-01T00:00:00.000000000', '2020-04-15T00:00:00.000000000',
       '2020-05-01T00:00:00.000000000', '2020-05-15T00:00:00.000000000',
       '2020-06-01T00:00:00.000000000', '2020-06-15T00:00:00.000000000',
       '2020-07-01T00:00:00.000000000', '2020-07-15T00:00:00.000000000',
       '2020-08-01T00:00:00.000000000', '2020-08-15T00:00:00.000000000',
       '2020-09-01T00:00:00.000000000', '2020-09-15T00:00:00.000000000',
       '2020-10-01T00:00:00.000000000', '2021-04-01T00:00:00.000000000',
       '2021-04-15T00:00:00.000000000', '2021-05-01T00:00:00.000000000',
       '2021-05-15T00:00:00.000000000', '2021-06-01T00:00:00.000000000',
       '2021-06-15T00:00:00.000000000', '2021-07-01T00:00:00.000000000',
       '2021-07-15T00:00:00.000000000', '2021-08-01T00:00:00.000000000',
       '2021-08-15T00:00:00.000000000', '2021-09-01T00:00:00.000000000',
       '2021-09-15T00:00:00.000000000', '2021-10-01T00:00:00.000000000',
       '2022-04-01T00:00:00.000000000', '2022-04-15T00:00:00.000000000',
       '2022-05-01T00:00:00.000000000', '2022-05-15T00:00:00.000000000',
       '2022-06-01T00:00:00.000000000', '2022-06-15T00:00:00.000000000',
       '2022-07-01T00:00:00.000000000', '2022-07-15T00:00:00.000000000',
       '2022-08-01T00:00:00.000000000', '2022-08-15T00:00:00.000000000',
       '2022-09-01T00:00:00.000000000', '2022-09-15T00:00:00.000000000',
       '2022-10-01T00:00:00.000000000', '2023-04-01T00:00:00.000000000',
       '2023-04-15T00:00:00.000000000', '2023-05-01T00:00:00.000000000',
       '2023-05-15T00:00:00.000000000', '2023-06-01T00:00:00.000000000',
       '2023-06-15T00:00:00.000000000', '2023-07-01T00:00:00.000000000',
       '2023-07-15T00:00:00.000000000', '2023-08-01T00:00:00.000000000',
       '2023-08-15T00:00:00.000000000', '2023-09-01T00:00:00.000000000',
       '2023-09-15T00:00:00.000000000', '2023-10-01T00:00:00.000000000',
       '2024-04-01T00:00:00.000000000', '2024-04-15T00:00:00.000000000',
       '2024-05-01T00:00:00.000000000', '2024-05-15T00:00:00.000000000',
       '2024-06-01T00:00:00.000000000', '2024-06-15T00:00:00.000000000',
       '2024-07-01T00:00:00.000000000', '2024-07-15T00:00:00.000000000',
       '2024-08-01T00:00:00.000000000', '2024-08-15T00:00:00.000000000',
       '2024-09-01T00:00:00.000000000', '2024-09-15T00:00:00.000000000',
       '2024-10-01T00:00:00.000000000'], dtype='datetime64[ns]')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>id</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">&lt;U49</div><div class="xr-var-preview xr-preview">'Sentinel-2_indeksimosaiikki_201...</div><input id="attrs-52df1590-c9db-4ba1-b496-96fa452483db" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-52df1590-c9db-4ba1-b496-96fa452483db" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ac4fd6c8-aa1c-4c90-90e4-b48c266d6bbd" class="xr-var-data-in" type="checkbox"><label for="data-ac4fd6c8-aa1c-4c90-90e4-b48c266d6bbd" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['Sentinel-2_indeksimosaiikki_2016-04-01_2016-04-30',
       'Sentinel-2_indeksimosaiikki_2016-04-15_2016-05-15',
       'Sentinel-2_indeksimosaiikki_2016-05-01_2016-05-31',
       'Sentinel-2_indeksimosaiikki_2016-05-15_2016-06-15',
       'Sentinel-2_indeksimosaiikki_2016-06-01_2016-06-30',
       'Sentinel-2_indeksimosaiikki_2016-06-15_2016-07-15',
       'Sentinel-2_indeksimosaiikki_2016-07-01_2016-07-31',
       'Sentinel-2_indeksimosaiikki_2016-07-15_2016-08-15',
       'Sentinel-2_indeksimosaiikki_2016-08-01_2016-08-31',
       'Sentinel-2_indeksimosaiikki_2016-08-15_2016-09-15',
       'Sentinel-2_indeksimosaiikki_2016-09-01_2016-09-30',
       'Sentinel-2_indeksimosaiikki_2016-09-15_2016-10-15',
       'Sentinel-2_indeksimosaiikki_2016-10-01_2016-10-31',
       'Sentinel-2_indeksimosaiikki_2017-04-01_2017-04-30',
       'Sentinel-2_indeksimosaiikki_2017-04-15_2017-05-15',
       'Sentinel-2_indeksimosaiikki_2017-05-01_2017-05-31',
       'Sentinel-2_indeksimosaiikki_2017-05-15_2017-06-15',
       'Sentinel-2_indeksimosaiikki_2017-06-01_2017-06-30',
       'Sentinel-2_indeksimosaiikki_2017-06-15_2017-07-15',
       'Sentinel-2_indeksimosaiikki_2017-07-01_2017-07-31',
...
       'Sentinel-2_indeksimosaiikki_2023-07-01_2023-07-31',
       'Sentinel-2_indeksimosaiikki_2023-07-15_2023-08-15',
       'Sentinel-2_indeksimosaiikki_2023-08-01_2023-08-31',
       'Sentinel-2_indeksimosaiikki_2023-08-15_2023-09-15',
       'Sentinel-2_indeksimosaiikki_2023-09-01_2023-09-30',
       'Sentinel-2_indeksimosaiikki_2023-09-15_2023-10-15',
       'Sentinel-2_indeksimosaiikki_2023-10-01_2023-10-31',
       'Sentinel-2_indeksimosaiikki_2024-04-01_2024-04-30',
       'Sentinel-2_indeksimosaiikki_2024-04-15_2024-05-15',
       'Sentinel-2_indeksimosaiikki_2024-05-01_2024-05-31',
       'Sentinel-2_indeksimosaiikki_2024-05-15_2024-06-15',
       'Sentinel-2_indeksimosaiikki_2024-06-01_2024-06-30',
       'Sentinel-2_indeksimosaiikki_2024-06-15_2024-07-15',
       'Sentinel-2_indeksimosaiikki_2024-07-01_2024-07-31',
       'Sentinel-2_indeksimosaiikki_2024-07-15_2024-08-15',
       'Sentinel-2_indeksimosaiikki_2024-08-01_2024-08-31',
       'Sentinel-2_indeksimosaiikki_2024-08-15_2024-09-15',
       'Sentinel-2_indeksimosaiikki_2024-09-01_2024-09-30',
       'Sentinel-2_indeksimosaiikki_2024-09-15_2024-10-15',
       'Sentinel-2_indeksimosaiikki_2024-10-01_2024-10-31'], dtype='&lt;U49')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">band</span></div><div class="xr-var-dims">(band)</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-5dacf54a-18e5-48ae-bf1c-5840a3f27c53" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-5dacf54a-18e5-48ae-bf1c-5840a3f27c53" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-02817956-44f2-4b24-a77c-f0a4b1dc2e7f" class="xr-var-data-in" type="checkbox"><label for="data-02817956-44f2-4b24-a77c-f0a4b1dc2e7f" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['ndvi'], dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">x</span></div><div class="xr-var-dims">(x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">4.373e+05 4.373e+05 ... 4.773e+05</div><input id="attrs-5d814055-6426-4992-84ff-3369a9633933" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-5d814055-6426-4992-84ff-3369a9633933" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a0cfb8b7-09f2-41e0-975f-ad13952fd741" class="xr-var-data-in" type="checkbox"><label for="data-a0cfb8b7-09f2-41e0-975f-ad13952fd741" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([437330., 437340., 437350., ..., 477300., 477310., 477320.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">y</span></div><div class="xr-var-dims">(y)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">7.723e+06 7.723e+06 ... 7.683e+06</div><input id="attrs-d578f80c-86a3-400d-88f0-dbb19ae55fd2" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d578f80c-86a3-400d-88f0-dbb19ae55fd2" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-712ec54d-66ba-46eb-a060-56370b450a9a" class="xr-var-data-in" type="checkbox"><label for="data-712ec54d-66ba-46eb-a060-56370b450a9a" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([7722550., 7722540., 7722530., ..., 7682580., 7682570., 7682560.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>start_datetime</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">&lt;U29</div><div class="xr-var-preview xr-preview">'2016-04-01T00:00:00.000+00:00' ...</div><input id="attrs-c209522f-c252-4133-9b29-9305b8a1dc9a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-c209522f-c252-4133-9b29-9305b8a1dc9a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ec634c1e-2463-4603-8881-bf4f2529a02e" class="xr-var-data-in" type="checkbox"><label for="data-ec634c1e-2463-4603-8881-bf4f2529a02e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['2016-04-01T00:00:00.000+00:00', '2016-04-15T00:00:00.000+00:00',
       '2016-05-01T00:00:00.000+00:00', '2016-05-15T00:00:00.000+00:00',
       '2016-06-01T00:00:00.000+00:00', '2016-06-15T00:00:00.000+00:00',
       '2016-07-01T00:00:00.000+00:00', '2016-07-15T00:00:00.000+00:00',
       '2016-08-01T00:00:00.000+00:00', '2016-08-15T00:00:00.000+00:00',
       '2016-09-01T00:00:00.000+00:00', '2016-09-15T00:00:00.000+00:00',
       '2016-10-01T00:00:00.000+00:00', '2017-04-01T00:00:00.000+00:00',
       '2017-04-15T00:00:00.000+00:00', '2017-05-01T00:00:00.000+00:00',
       '2017-05-15T00:00:00.000+00:00', '2017-06-01T00:00:00.000+00:00',
       '2017-06-15T00:00:00.000+00:00', '2017-07-01T00:00:00.000+00:00',
       '2017-07-15T00:00:00.000+00:00', '2017-08-01T00:00:00.000+00:00',
       '2017-08-15T00:00:00.000+00:00', '2017-09-01T00:00:00.000+00:00',
       '2017-09-15T00:00:00.000+00:00', '2017-10-01T00:00:00.000+00:00',
       '2018-04-01T00:00:00.000+00:00', '2018-04-15T00:00:00.000+00:00',
       '2018-05-01T00:00:00.000+00:00', '2018-05-15T00:00:00.000+00:00',
       '2018-06-01T00:00:00.000+00:00', '2018-06-15T00:00:00.000+00:00',
       '2018-07-01T00:00:00.000+00:00', '2018-07-15T00:00:00.000+00:00',
       '2018-08-01T00:00:00.000+00:00', '2018-08-15T00:00:00.000+00:00',
       '2018-09-01T00:00:00.000+00:00', '2018-09-15T00:00:00.000+00:00',
       '2018-10-01T00:00:00.000+00:00', '2019-04-01T00:00:00.000+00:00',
...
       '2022-04-01T00:00:00.000+00:00', '2022-04-15T00:00:00.000+00:00',
       '2022-05-01T00:00:00.000+00:00', '2022-05-15T00:00:00.000+00:00',
       '2022-06-01T00:00:00.000+00:00', '2022-06-15T00:00:00.000+00:00',
       '2022-07-01T00:00:00.000+00:00', '2022-07-15T00:00:00.000+00:00',
       '2022-08-01T00:00:00.000+00:00', '2022-08-15T00:00:00.000+00:00',
       '2022-09-01T00:00:00.000+00:00', '2022-09-15T00:00:00.000+00:00',
       '2022-10-01T00:00:00.000+00:00', '2023-04-01T00:00:00.000+00:00',
       '2023-04-15T00:00:00.000+00:00', '2023-05-01T00:00:00.000+00:00',
       '2023-05-15T00:00:00.000+00:00', '2023-06-01T00:00:00.000+00:00',
       '2023-06-15T00:00:00.000+00:00', '2023-07-01T00:00:00.000+00:00',
       '2023-07-15T00:00:00.000+00:00', '2023-08-01T00:00:00.000+00:00',
       '2023-08-15T00:00:00.000+00:00', '2023-09-01T00:00:00.000+00:00',
       '2023-09-15T00:00:00.000+00:00', '2023-10-01T00:00:00.000+00:00',
       '2024-04-01T00:00:00.000+00:00', '2024-04-15T00:00:00.000+00:00',
       '2024-05-01T00:00:00.000+00:00', '2024-05-15T00:00:00.000+00:00',
       '2024-06-01T00:00:00.000+00:00', '2024-06-15T00:00:00.000+00:00',
       '2024-07-01T00:00:00.000+00:00', '2024-07-15T00:00:00.000+00:00',
       '2024-08-01T00:00:00.000+00:00', '2024-08-15T00:00:00.000+00:00',
       '2024-09-01T00:00:00.000+00:00', '2024-09-15T00:00:00.000+00:00',
       '2024-10-01T00:00:00.000+00:00'], dtype='&lt;U29')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>gsd</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">10.0</div><input id="attrs-59c431b0-da8d-4d35-bf55-4f61a34117a1" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-59c431b0-da8d-4d35-bf55-4f61a34117a1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a1efdc3a-b193-4197-b332-c19a933a97ee" class="xr-var-data-in" type="checkbox"><label for="data-a1efdc3a-b193-4197-b332-c19a933a97ee" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(10.)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:code</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U9</div><div class="xr-var-preview xr-preview">'EPSG:3067'</div><input id="attrs-9c09eeea-b327-41c5-b427-5bc61a69499e" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-9c09eeea-b327-41c5-b427-5bc61a69499e" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-d597b41c-d18e-4388-a009-6049437ea787" class="xr-var-data-in" type="checkbox"><label for="data-d597b41c-d18e-4388-a009-6049437ea787" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('EPSG:3067', dtype='&lt;U9')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>end_datetime</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">&lt;U29</div><div class="xr-var-preview xr-preview">'2016-04-30T23:59:59.000+00:00' ...</div><input id="attrs-fdda45a7-8db9-4a33-98bc-7039a7f75b64" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-fdda45a7-8db9-4a33-98bc-7039a7f75b64" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-da646152-e721-446b-8ed5-b165e728bf55" class="xr-var-data-in" type="checkbox"><label for="data-da646152-e721-446b-8ed5-b165e728bf55" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['2016-04-30T23:59:59.000+00:00', '2016-05-15T23:59:59.000+00:00',
       '2016-05-31T23:59:59.000+00:00', '2016-06-15T23:59:59.000+00:00',
       '2016-06-30T23:59:59.000+00:00', '2016-07-15T23:59:59.000+00:00',
       '2016-07-31T23:59:59.000+00:00', '2016-08-15T23:59:59.000+00:00',
       '2016-08-31T23:59:59.000+00:00', '2016-09-15T23:59:59.000+00:00',
       '2016-09-30T23:59:59.000+00:00', '2016-10-15T23:59:59.000+00:00',
       '2016-10-31T23:59:59.000+00:00', '2017-04-30T23:59:59.000+00:00',
       '2017-05-15T23:59:59.000+00:00', '2017-05-31T23:59:59.000+00:00',
       '2017-06-15T23:59:59.000+00:00', '2017-06-30T23:59:59.000+00:00',
       '2017-07-15T23:59:59.000+00:00', '2017-07-31T23:59:59.000+00:00',
       '2017-08-15T23:59:59.000+00:00', '2017-08-31T23:59:59.000+00:00',
       '2017-09-15T23:59:59.000+00:00', '2017-09-30T23:59:59.000+00:00',
       '2017-10-15T23:59:59.000+00:00', '2017-10-31T23:59:59.000+00:00',
       '2018-04-30T23:59:59.000+00:00', '2018-05-15T23:59:59.000+00:00',
       '2018-05-31T23:59:59.000+00:00', '2018-06-15T23:59:59.000+00:00',
       '2018-06-30T23:59:59.000+00:00', '2018-07-15T23:59:59.000+00:00',
       '2018-07-31T23:59:59.000+00:00', '2018-08-15T23:59:59.000+00:00',
       '2018-08-31T23:59:59.000+00:00', '2018-09-15T23:59:59.000+00:00',
       '2018-09-30T23:59:59.000+00:00', '2018-10-15T23:59:59.000+00:00',
       '2018-10-31T23:59:59.000+00:00', '2019-04-30T23:59:59.000+00:00',
...
       '2022-04-30T23:59:59.000+00:00', '2022-05-15T23:59:59.000+00:00',
       '2022-05-31T23:59:59.000+00:00', '2022-06-15T23:59:59.000+00:00',
       '2022-06-30T23:59:59.000+00:00', '2022-07-15T23:59:59.000+00:00',
       '2022-07-31T23:59:59.000+00:00', '2022-08-15T23:59:59.000+00:00',
       '2022-08-31T23:59:59.000+00:00', '2022-09-15T23:59:59.000+00:00',
       '2022-09-30T23:59:59.000+00:00', '2022-10-15T23:59:59.000+00:00',
       '2022-10-31T23:59:59.000+00:00', '2023-04-30T23:59:59.000+00:00',
       '2023-05-15T23:59:59.000+00:00', '2023-05-31T23:59:59.000+00:00',
       '2023-06-15T23:59:59.000+00:00', '2023-06-30T23:59:59.000+00:00',
       '2023-07-15T23:59:59.000+00:00', '2023-07-31T23:59:59.000+00:00',
       '2023-08-15T23:59:59.000+00:00', '2023-08-31T23:59:59.000+00:00',
       '2023-09-15T23:59:59.000+00:00', '2023-09-30T23:59:59.000+00:00',
       '2023-10-15T23:59:59.000+00:00', '2023-10-31T23:59:59.000+00:00',
       '2024-04-30T23:59:59.000+00:00', '2024-05-15T23:59:59.000+00:00',
       '2024-05-31T23:59:59.000+00:00', '2024-06-15T23:59:59.000+00:00',
       '2024-06-30T23:59:59.000+00:00', '2024-07-15T23:59:59.000+00:00',
       '2024-07-31T23:59:59.000+00:00', '2024-08-15T23:59:59.000+00:00',
       '2024-08-31T23:59:59.000+00:00', '2024-09-15T23:59:59.000+00:00',
       '2024-09-30T23:59:59.000+00:00', '2024-10-15T23:59:59.000+00:00',
       '2024-10-31T23:59:59.000+00:00'], dtype='&lt;U29')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:transform</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">object</div><div class="xr-var-preview xr-preview">{0, 1, 7800000, 10, 50000, -10}</div><input id="attrs-d9868b7b-c480-4834-b686-e71900abf780" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d9868b7b-c480-4834-b686-e71900abf780" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-9e065581-2ea7-40e6-a831-b443daeec586" class="xr-var-data-in" type="checkbox"><label for="data-9e065581-2ea7-40e6-a831-b443daeec586" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array({0, 1, 7800000, 10, 50000, -10}, dtype=object)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>title</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-0c8ad785-4c8c-405a-b063-7d91d9a765a8" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-0c8ad785-4c8c-405a-b063-7d91d9a765a8" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-e9a04adf-dcf2-4937-809c-db5c5bf76e4c" class="xr-var-data-in" type="checkbox"><label for="data-e9a04adf-dcf2-4937-809c-db5c5bf76e4c" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('ndvi', dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>epsg</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">32635</div><input id="attrs-042da89c-360b-46e9-b425-9fd7af784008" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-042da89c-360b-46e9-b425-9fd7af784008" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-be28bbee-5bcb-4787-8b85-c940280b6585" class="xr-var-data-in" type="checkbox"><label for="data-be28bbee-5bcb-4787-8b85-c940280b6585" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(32635)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>cubo:distance_from_center</span></div><div class="xr-var-dims">(y, x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.828e+04 2.828e+04 ... 2.827e+04</div><input id="attrs-406137e6-442b-4080-b5a6-ac3a5ae588ec" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-406137e6-442b-4080-b5a6-ac3a5ae588ec" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ef7cb5a7-3260-4f1a-af2c-26e5affda672" class="xr-var-data-in" type="checkbox"><label for="data-ef7cb5a7-3260-4f1a-af2c-26e5affda672" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[28284.27205024, 28277.20009856, 28270.1299151 , ...,
        28255.99502103, 28263.06166413, 28270.1300781 ],
       [28277.20363494, 28270.12991505, 28263.05796294, ...,
        28248.91953028, 28255.98794292, 28263.05812599],
       [28270.13698962, 28263.06150108, 28255.98777987, ...,
        28241.84580774, 28248.91599036, 28255.98794296],
       ...,
       [28270.13698875, 28263.06150021, 28255.987779  , ...,
        28241.84580687, 28248.91598949, 28255.98794209],
       [28277.20363407, 28270.12991418, 28263.05796207, ...,
        28248.91952941, 28255.98794205, 28263.05812511],
       [28284.27204936, 28277.20009769, 28270.12991422, ...,
        28255.99502015, 28263.06166326, 28270.13007723]])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-b120c61d-e4e4-4a2d-b036-a8c8127ac8da" class="xr-section-summary-in" type="checkbox"><label for="section-b120c61d-e4e4-4a2d-b036-a8c8127ac8da" class="xr-section-summary">Indexes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>time</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-91eae786-a516-4add-a2fd-41d8f028d305" class="xr-index-data-in" type="checkbox"><label for="index-91eae786-a516-4add-a2fd-41d8f028d305" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(DatetimeIndex(['2016-04-01', '2016-04-15', '2016-05-01', '2016-05-15',
               '2016-06-01', '2016-06-15', '2016-07-01', '2016-07-15',
               '2016-08-01', '2016-08-15',
               ...
               '2024-05-15', '2024-06-01', '2024-06-15', '2024-07-01',
               '2024-07-15', '2024-08-01', '2024-08-15', '2024-09-01',
               '2024-09-15', '2024-10-01'],
              dtype='datetime64[ns]', name='time', length=117, freq=None))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>band</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-3874f2d2-7ea5-4fec-ae7d-65639023c8dd" class="xr-index-data-in" type="checkbox"><label for="index-3874f2d2-7ea5-4fec-ae7d-65639023c8dd" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['ndvi'], dtype='object', name='band'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>x</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-b5121712-771f-436e-8ca3-aa9edd0ef6e0" class="xr-index-data-in" type="checkbox"><label for="index-b5121712-771f-436e-8ca3-aa9edd0ef6e0" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([437330.0, 437340.0, 437350.0, 437360.0, 437370.0, 437380.0, 437390.0,
       437400.0, 437410.0, 437420.0,
       ...
       477230.0, 477240.0, 477250.0, 477260.0, 477270.0, 477280.0, 477290.0,
       477300.0, 477310.0, 477320.0],
      dtype='float64', name='x', length=4000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>y</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-89e25ab4-8bf0-46b8-a7b0-fac4ee7f9688" class="xr-index-data-in" type="checkbox"><label for="index-89e25ab4-8bf0-46b8-a7b0-fac4ee7f9688" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([7722550.0, 7722540.0, 7722530.0, 7722520.0, 7722510.0, 7722500.0,
       7722490.0, 7722480.0, 7722470.0, 7722460.0,
       ...
       7682650.0, 7682640.0, 7682630.0, 7682620.0, 7682610.0, 7682600.0,
       7682590.0, 7682580.0, 7682570.0, 7682560.0],
      dtype='float64', name='y', length=4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-8611251b-2747-427e-85aa-de5ec780b453" class="xr-section-summary-in" type="checkbox"><label for="section-8611251b-2747-427e-85aa-de5ec780b453" class="xr-section-summary">Attributes: <span>(11)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>collection :</span></dt><dd>sentinel_2_monthly_index_mosaics_at_fmi</dd><dt><span>stac :</span></dt><dd>https://paituli.csc.fi/geoserver/ogc/stac/v1</dd><dt><span>epsg :</span></dt><dd>32635</dd><dt><span>resolution :</span></dt><dd>10</dd><dt><span>edge_size :</span></dt><dd>4000</dd><dt><span>central_lat :</span></dt><dd>69.42870189667391</dd><dt><span>central_lon :</span></dt><dd>25.911697105643754</dd><dt><span>central_y :</span></dt><dd>7702545.000115293</dd><dt><span>central_x :</span></dt><dd>457325.0000006164</dd><dt><span>time_coverage_start :</span></dt><dd>2016-04-01</dd><dt><span>time_coverage_end :</span></dt><dd>2025-05-31</dd></dl></div></li></ul></div></div>
</div>
</div>
<section id="create-base-mosaics-for-spring-and-autumn" class="level2">
<h2 class="anchored" data-anchor-id="create-base-mosaics-for-spring-and-autumn">Create base mosaics for spring and autumn</h2>
<p>Seasonal base mosaics are used to fill gaps for April, May and October, as they are usually the most cloudy months. Base mosaics are constructed from the median values of April, May and October during the full observation period.</p>
<p>First filter <code>DataArrays</code> based the timesteps for spring and autumn. Spring is April and May, autumn is mid-September to October.</p>
<div id="fd04f6c6-5e4f-428e-9240-cd264305d785" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>time <span class="op">=</span> da.indexes[<span class="st">'time'</span>].values </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>year <span class="op">=</span> da.time.dt.year</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>month <span class="op">=</span> da.time.dt.month</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>day <span class="op">=</span> da.time.dt.day</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>spring_mask <span class="op">=</span> (month <span class="op">==</span> <span class="dv">4</span>) <span class="op">|</span> ((month <span class="op">==</span> <span class="dv">5</span>) <span class="op">&amp;</span> (day <span class="op">==</span> <span class="dv">1</span>))</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>autumn_mask <span class="op">=</span> (month <span class="op">==</span> <span class="dv">10</span>) <span class="op">|</span> ((month <span class="op">==</span> <span class="dv">9</span>) <span class="op">&amp;</span> ((day <span class="op">==</span> <span class="dv">30</span>) <span class="op">|</span> (day <span class="op">==</span> <span class="dv">15</span>)))</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>spring <span class="op">=</span> da.sel(time<span class="op">=</span>spring_mask)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>autumn <span class="op">=</span> da.sel(time<span class="op">=</span>autumn_mask)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e314b1e0-b5b9-44f1-a646-dba5a5443600" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>spring</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "â–º";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "â–¼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray 'sentinel_2_monthly_index_mosaics_at_fmi' (time: 27, band: 1,
                                                             y: 4000, x: 4000)&gt; Size: 3GB
dask.array&lt;getitem, shape=(27, 1, 4000, 4000), dtype=float64, chunksize=(1, 1, 1024, 1024), chunktype=numpy.ndarray&gt;
Coordinates: (12/13)
  * time                       (time) datetime64[ns] 216B 2016-04-01 ... 2024...
    id                         (time) &lt;U49 5kB 'Sentinel-2_indeksimosaiikki_2...
  * band                       (band) &lt;U4 16B 'ndvi'
  * x                          (x) float64 32kB 4.373e+05 ... 4.773e+05
  * y                          (y) float64 32kB 7.723e+06 ... 7.683e+06
    start_datetime             (time) &lt;U29 3kB '2016-04-01T00:00:00.000+00:00...
    ...                         ...
    proj:code                  &lt;U9 36B 'EPSG:3067'
    end_datetime               (time) &lt;U29 3kB '2016-04-30T23:59:59.000+00:00...
    proj:transform             object 8B {0, 1, 7800000, 10, 50000, -10}
    title                      &lt;U4 16B 'ndvi'
    epsg                       int64 8B 32635
    cubo:distance_from_center  (y, x) float64 128MB 2.828e+04 ... 2.827e+04
Attributes:
    collection:           sentinel_2_monthly_index_mosaics_at_fmi
    stac:                 https://paituli.csc.fi/geoserver/ogc/stac/v1
    epsg:                 32635
    resolution:           10
    edge_size:            4000
    central_lat:          69.42870189667391
    central_lon:          25.911697105643754
    central_y:            7702545.000115293
    central_x:            457325.0000006164
    time_coverage_start:  2016-04-01
    time_coverage_end:    2025-05-31</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name">'sentinel_2_monthly_index_mosaics_at_fmi'</div><ul class="xr-dim-list"><li><span class="xr-has-index">time</span>: 27</li><li><span class="xr-has-index">band</span>: 1</li><li><span class="xr-has-index">y</span>: 4000</li><li><span class="xr-has-index">x</span>: 4000</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-dfe10123-bcd4-430c-b188-6dedce386667" class="xr-array-in" type="checkbox" checked=""><label for="section-dfe10123-bcd4-430c-b188-6dedce386667" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>dask.array&lt;chunksize=(1, 1, 1024, 1024), meta=np.ndarray&gt;</span></div><div class="xr-array-data">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td><table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th></th>
<th data-quarto-table-cell-role="th">Array</th>
<th data-quarto-table-cell-role="th">Chunk</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bytes</td>
<td>3.22 GiB</td>
<td>8.00 MiB</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Shape</td>
<td>(27, 1, 4000, 4000)</td>
<td>(1, 1, 1024, 1024)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Dask graph</td>
<td colspan="2">432 chunks in 4 graph layers</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Data type</td>
<td colspan="2">float64 numpy.ndarray</td>
</tr>
</tbody>
</table></td>
<td><svg width="374" height="184" style="stroke:rgb(0,0,0);stroke-width:1">
<!-- Horizontal lines --> <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2"></line> <line x1="0" y1="25" x2="25" y2="25" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2"></line> <line x1="0" y1="0" x2="0" y2="25"></line> <line x1="1" y1="0" x2="1" y2="25"></line> <line x1="2" y1="0" x2="2" y2="25"></line> <line x1="3" y1="0" x2="3" y2="25"></line> <line x1="4" y1="0" x2="4" y2="25"></line> <line x1="5" y1="0" x2="5" y2="25"></line> <line x1="6" y1="0" x2="6" y2="25"></line> <line x1="7" y1="0" x2="7" y2="25"></line> <line x1="8" y1="0" x2="8" y2="25"></line> <line x1="9" y1="0" x2="9" y2="25"></line> <line x1="10" y1="0" x2="10" y2="25"></line> <line x1="11" y1="0" x2="11" y2="25"></line> <line x1="12" y1="0" x2="12" y2="25"></line> <line x1="13" y1="0" x2="13" y2="25"></line> <line x1="14" y1="0" x2="14" y2="25"></line> <line x1="15" y1="0" x2="15" y2="25"></line> <line x1="16" y1="0" x2="16" y2="25"></line> <line x1="16" y1="0" x2="16" y2="25"></line> <line x1="17" y1="0" x2="17" y2="25"></line> <line x1="18" y1="0" x2="18" y2="25"></line> <line x1="19" y1="0" x2="19" y2="25"></line> <line x1="20" y1="0" x2="20" y2="25"></line> <line x1="21" y1="0" x2="21" y2="25"></line> <line x1="22" y1="0" x2="22" y2="25"></line> <line x1="23" y1="0" x2="23" y2="25"></line> <line x1="24" y1="0" x2="24" y2="25"></line> <line x1="25" y1="0" x2="25" y2="25" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Text --> <text x="12.706308" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle">27</text> <text x="45.412617" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,45.412617,12.706308)">1</text> <!-- Horizontal lines --> <line x1="95" y1="0" x2="109" y2="14" style="stroke-width:2"></line> <line x1="95" y1="30" x2="109" y2="45"></line> <line x1="95" y1="61" x2="109" y2="76"></line> <line x1="95" y1="92" x2="109" y2="107"></line> <line x1="95" y1="120" x2="109" y2="134" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="95" y1="0" x2="95" y2="120" style="stroke-width:2"></line> <line x1="109" y1="14" x2="109" y2="134" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="95.0,0.0 109.9485979497544,14.948597949754403 109.9485979497544,134.9485979497544 95.0,120.0" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Horizontal lines --> <line x1="95" y1="0" x2="215" y2="0" style="stroke-width:2"></line> <line x1="109" y1="14" x2="229" y2="14" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="95" y1="0" x2="109" y2="14" style="stroke-width:2"></line> <line x1="125" y1="0" x2="140" y2="14"></line> <line x1="156" y1="0" x2="171" y2="14"></line> <line x1="187" y1="0" x2="202" y2="14"></line> <line x1="215" y1="0" x2="229" y2="14" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="95.0,0.0 215.0,0.0 229.9485979497544,14.948597949754403 109.9485979497544,14.948597949754403" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Horizontal lines --> <line x1="109" y1="14" x2="229" y2="14" style="stroke-width:2"></line> <line x1="109" y1="45" x2="229" y2="45"></line> <line x1="109" y1="76" x2="229" y2="76"></line> <line x1="109" y1="107" x2="229" y2="107"></line> <line x1="109" y1="134" x2="229" y2="134" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="109" y1="14" x2="109" y2="134" style="stroke-width:2"></line> <line x1="140" y1="14" x2="140" y2="134"></line> <line x1="171" y1="14" x2="171" y2="134"></line> <line x1="202" y1="14" x2="202" y2="134"></line> <line x1="229" y1="14" x2="229" y2="134" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="109.9485979497544,14.948597949754403 229.9485979497544,14.948597949754403 229.9485979497544,134.9485979497544 109.9485979497544,134.9485979497544" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Text --> <text x="169.948598" y="154.948598" font-size="1.0rem" font-weight="100" text-anchor="middle">4000</text> <text x="249.948598" y="74.948598" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,249.948598,74.948598)">4000</text> <text x="92.474299" y="147.474299" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,92.474299,147.474299)">1</text>
</svg></td>
</tr>
</tbody>
</table>
</div></div></li><li class="xr-section-item"><input id="section-08028c0e-e0d7-4ed3-8b8a-eb490a5a36bf" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-08028c0e-e0d7-4ed3-8b8a-eb490a5a36bf" class="xr-section-summary">Coordinates: <span>(13)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">time</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">datetime64[ns]</div><div class="xr-var-preview xr-preview">2016-04-01 ... 2024-05-01</div><input id="attrs-ff078569-68f2-4f5d-8388-f082848176aa" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ff078569-68f2-4f5d-8388-f082848176aa" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-7b0bc25e-fe4e-4e7d-8b8c-4127f7d3ef00" class="xr-var-data-in" type="checkbox"><label for="data-7b0bc25e-fe4e-4e7d-8b8c-4127f7d3ef00" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['2016-04-01T00:00:00.000000000', '2016-04-15T00:00:00.000000000',
       '2016-05-01T00:00:00.000000000', '2017-04-01T00:00:00.000000000',
       '2017-04-15T00:00:00.000000000', '2017-05-01T00:00:00.000000000',
       '2018-04-01T00:00:00.000000000', '2018-04-15T00:00:00.000000000',
       '2018-05-01T00:00:00.000000000', '2019-04-01T00:00:00.000000000',
       '2019-04-15T00:00:00.000000000', '2019-05-01T00:00:00.000000000',
       '2020-04-01T00:00:00.000000000', '2020-04-15T00:00:00.000000000',
       '2020-05-01T00:00:00.000000000', '2021-04-01T00:00:00.000000000',
       '2021-04-15T00:00:00.000000000', '2021-05-01T00:00:00.000000000',
       '2022-04-01T00:00:00.000000000', '2022-04-15T00:00:00.000000000',
       '2022-05-01T00:00:00.000000000', '2023-04-01T00:00:00.000000000',
       '2023-04-15T00:00:00.000000000', '2023-05-01T00:00:00.000000000',
       '2024-04-01T00:00:00.000000000', '2024-04-15T00:00:00.000000000',
       '2024-05-01T00:00:00.000000000'], dtype='datetime64[ns]')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>id</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">&lt;U49</div><div class="xr-var-preview xr-preview">'Sentinel-2_indeksimosaiikki_201...</div><input id="attrs-ccc29bf8-4e67-470a-9f5a-b64ec7819421" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ccc29bf8-4e67-470a-9f5a-b64ec7819421" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-e117919c-fac8-4c93-bf2d-e8eaf35a5086" class="xr-var-data-in" type="checkbox"><label for="data-e117919c-fac8-4c93-bf2d-e8eaf35a5086" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['Sentinel-2_indeksimosaiikki_2016-04-01_2016-04-30',
       'Sentinel-2_indeksimosaiikki_2016-04-15_2016-05-15',
       'Sentinel-2_indeksimosaiikki_2016-05-01_2016-05-31',
       'Sentinel-2_indeksimosaiikki_2017-04-01_2017-04-30',
       'Sentinel-2_indeksimosaiikki_2017-04-15_2017-05-15',
       'Sentinel-2_indeksimosaiikki_2017-05-01_2017-05-31',
       'Sentinel-2_indeksimosaiikki_2018-04-01_2018-04-30',
       'Sentinel-2_indeksimosaiikki_2018-04-15_2018-05-15',
       'Sentinel-2_indeksimosaiikki_2018-05-01_2018-05-31',
       'Sentinel-2_indeksimosaiikki_2019-04-01_2019-04-30',
       'Sentinel-2_indeksimosaiikki_2019-04-15_2019-05-15',
       'Sentinel-2_indeksimosaiikki_2019-05-01_2019-05-31',
       'Sentinel-2_indeksimosaiikki_2020-04-01_2020-04-30',
       'Sentinel-2_indeksimosaiikki_2020-04-15_2020-05-15',
       'Sentinel-2_indeksimosaiikki_2020-05-01_2020-05-31',
       'Sentinel-2_indeksimosaiikki_2021-04-01_2021-04-30',
       'Sentinel-2_indeksimosaiikki_2021-04-15_2021-05-15',
       'Sentinel-2_indeksimosaiikki_2021-05-01_2021-05-31',
       'Sentinel-2_indeksimosaiikki_2022-04-01_2022-04-30',
       'Sentinel-2_indeksimosaiikki_2022-04-15_2022-05-15',
       'Sentinel-2_indeksimosaiikki_2022-05-01_2022-05-31',
       'Sentinel-2_indeksimosaiikki_2023-04-01_2023-04-30',
       'Sentinel-2_indeksimosaiikki_2023-04-15_2023-05-15',
       'Sentinel-2_indeksimosaiikki_2023-05-01_2023-05-31',
       'Sentinel-2_indeksimosaiikki_2024-04-01_2024-04-30',
       'Sentinel-2_indeksimosaiikki_2024-04-15_2024-05-15',
       'Sentinel-2_indeksimosaiikki_2024-05-01_2024-05-31'], dtype='&lt;U49')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">band</span></div><div class="xr-var-dims">(band)</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-6b6d71a6-80c0-4ced-9674-8bb163bcf696" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-6b6d71a6-80c0-4ced-9674-8bb163bcf696" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-9678c61e-6d53-408c-91e3-1de88d03152d" class="xr-var-data-in" type="checkbox"><label for="data-9678c61e-6d53-408c-91e3-1de88d03152d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['ndvi'], dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">x</span></div><div class="xr-var-dims">(x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">4.373e+05 4.373e+05 ... 4.773e+05</div><input id="attrs-7d8ad7a6-411e-4ac4-a397-66e066a3218b" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-7d8ad7a6-411e-4ac4-a397-66e066a3218b" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a7436e35-dbee-420b-bbb2-b1fcf60829bc" class="xr-var-data-in" type="checkbox"><label for="data-a7436e35-dbee-420b-bbb2-b1fcf60829bc" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([437330., 437340., 437350., ..., 477300., 477310., 477320.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">y</span></div><div class="xr-var-dims">(y)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">7.723e+06 7.723e+06 ... 7.683e+06</div><input id="attrs-2b7cce26-50fd-4019-ba00-e09211ceb1e1" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-2b7cce26-50fd-4019-ba00-e09211ceb1e1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b657adc5-25ad-49cb-acfc-04729ab09e20" class="xr-var-data-in" type="checkbox"><label for="data-b657adc5-25ad-49cb-acfc-04729ab09e20" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([7722550., 7722540., 7722530., ..., 7682580., 7682570., 7682560.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>start_datetime</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">&lt;U29</div><div class="xr-var-preview xr-preview">'2016-04-01T00:00:00.000+00:00' ...</div><input id="attrs-a5788362-a8ed-452c-a9b9-41e3bdf48ff0" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-a5788362-a8ed-452c-a9b9-41e3bdf48ff0" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ecec1ebc-e5b4-48fe-a40c-45be66856093" class="xr-var-data-in" type="checkbox"><label for="data-ecec1ebc-e5b4-48fe-a40c-45be66856093" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['2016-04-01T00:00:00.000+00:00', '2016-04-15T00:00:00.000+00:00',
       '2016-05-01T00:00:00.000+00:00', '2017-04-01T00:00:00.000+00:00',
       '2017-04-15T00:00:00.000+00:00', '2017-05-01T00:00:00.000+00:00',
       '2018-04-01T00:00:00.000+00:00', '2018-04-15T00:00:00.000+00:00',
       '2018-05-01T00:00:00.000+00:00', '2019-04-01T00:00:00.000+00:00',
       '2019-04-15T00:00:00.000+00:00', '2019-05-01T00:00:00.000+00:00',
       '2020-04-01T00:00:00.000+00:00', '2020-04-15T00:00:00.000+00:00',
       '2020-05-01T00:00:00.000+00:00', '2021-04-01T00:00:00.000+00:00',
       '2021-04-15T00:00:00.000+00:00', '2021-05-01T00:00:00.000+00:00',
       '2022-04-01T00:00:00.000+00:00', '2022-04-15T00:00:00.000+00:00',
       '2022-05-01T00:00:00.000+00:00', '2023-04-01T00:00:00.000+00:00',
       '2023-04-15T00:00:00.000+00:00', '2023-05-01T00:00:00.000+00:00',
       '2024-04-01T00:00:00.000+00:00', '2024-04-15T00:00:00.000+00:00',
       '2024-05-01T00:00:00.000+00:00'], dtype='&lt;U29')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>gsd</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">10.0</div><input id="attrs-2e2f27e4-0b9d-41d8-8870-3b7bc8e69c19" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-2e2f27e4-0b9d-41d8-8870-3b7bc8e69c19" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b3449e77-08fd-48c7-b94c-02de80cff0ed" class="xr-var-data-in" type="checkbox"><label for="data-b3449e77-08fd-48c7-b94c-02de80cff0ed" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(10.)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:code</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U9</div><div class="xr-var-preview xr-preview">'EPSG:3067'</div><input id="attrs-f12f75d3-51c7-44d1-a30d-72b6ef65ca43" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f12f75d3-51c7-44d1-a30d-72b6ef65ca43" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-88266984-9986-4e8b-b0e6-827ce00aa11b" class="xr-var-data-in" type="checkbox"><label for="data-88266984-9986-4e8b-b0e6-827ce00aa11b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('EPSG:3067', dtype='&lt;U9')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>end_datetime</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">&lt;U29</div><div class="xr-var-preview xr-preview">'2016-04-30T23:59:59.000+00:00' ...</div><input id="attrs-449b3f17-37ba-443b-8262-db28f3adaf4f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-449b3f17-37ba-443b-8262-db28f3adaf4f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-57f18a10-9a44-48f4-84d7-dfb114e1057f" class="xr-var-data-in" type="checkbox"><label for="data-57f18a10-9a44-48f4-84d7-dfb114e1057f" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['2016-04-30T23:59:59.000+00:00', '2016-05-15T23:59:59.000+00:00',
       '2016-05-31T23:59:59.000+00:00', '2017-04-30T23:59:59.000+00:00',
       '2017-05-15T23:59:59.000+00:00', '2017-05-31T23:59:59.000+00:00',
       '2018-04-30T23:59:59.000+00:00', '2018-05-15T23:59:59.000+00:00',
       '2018-05-31T23:59:59.000+00:00', '2019-04-30T23:59:59.000+00:00',
       '2019-05-15T23:59:59.000+00:00', '2019-05-31T23:59:59.000+00:00',
       '2020-04-30T23:59:59.000+00:00', '2020-05-15T23:59:59.000+00:00',
       '2020-05-31T23:59:59.000+00:00', '2021-04-30T23:59:59.000+00:00',
       '2021-05-15T23:59:59.000+00:00', '2021-05-31T23:59:59.000+00:00',
       '2022-04-30T23:59:59.000+00:00', '2022-05-15T23:59:59.000+00:00',
       '2022-05-31T23:59:59.000+00:00', '2023-04-30T23:59:59.000+00:00',
       '2023-05-15T23:59:59.000+00:00', '2023-05-31T23:59:59.000+00:00',
       '2024-04-30T23:59:59.000+00:00', '2024-05-15T23:59:59.000+00:00',
       '2024-05-31T23:59:59.000+00:00'], dtype='&lt;U29')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:transform</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">object</div><div class="xr-var-preview xr-preview">{0, 1, 7800000, 10, 50000, -10}</div><input id="attrs-1751bede-996c-4c62-9bc6-f4cbe67b02ab" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-1751bede-996c-4c62-9bc6-f4cbe67b02ab" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-70207675-e0bf-4208-bc1a-bca4c47d1f1c" class="xr-var-data-in" type="checkbox"><label for="data-70207675-e0bf-4208-bc1a-bca4c47d1f1c" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array({0, 1, 7800000, 10, 50000, -10}, dtype=object)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>title</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-c490c1fe-1977-47e0-b321-643bd7285389" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-c490c1fe-1977-47e0-b321-643bd7285389" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-124a8430-8ff1-4771-8a02-fddeae85b7a6" class="xr-var-data-in" type="checkbox"><label for="data-124a8430-8ff1-4771-8a02-fddeae85b7a6" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('ndvi', dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>epsg</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">32635</div><input id="attrs-dcba6b2a-e0b9-4f4e-9775-9c9f8a96ffe7" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-dcba6b2a-e0b9-4f4e-9775-9c9f8a96ffe7" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a90e6ad8-2e98-4d3a-b459-fcd388986b84" class="xr-var-data-in" type="checkbox"><label for="data-a90e6ad8-2e98-4d3a-b459-fcd388986b84" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(32635)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>cubo:distance_from_center</span></div><div class="xr-var-dims">(y, x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.828e+04 2.828e+04 ... 2.827e+04</div><input id="attrs-ab2c0ccd-c806-4928-895b-e90f53a4e50f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ab2c0ccd-c806-4928-895b-e90f53a4e50f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-e53d3546-d22c-4bd6-85b9-21a0c9be50ac" class="xr-var-data-in" type="checkbox"><label for="data-e53d3546-d22c-4bd6-85b9-21a0c9be50ac" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[28284.27205024, 28277.20009856, 28270.1299151 , ...,
        28255.99502103, 28263.06166413, 28270.1300781 ],
       [28277.20363494, 28270.12991505, 28263.05796294, ...,
        28248.91953028, 28255.98794292, 28263.05812599],
       [28270.13698962, 28263.06150108, 28255.98777987, ...,
        28241.84580774, 28248.91599036, 28255.98794296],
       ...,
       [28270.13698875, 28263.06150021, 28255.987779  , ...,
        28241.84580687, 28248.91598949, 28255.98794209],
       [28277.20363407, 28270.12991418, 28263.05796207, ...,
        28248.91952941, 28255.98794205, 28263.05812511],
       [28284.27204936, 28277.20009769, 28270.12991422, ...,
        28255.99502015, 28263.06166326, 28270.13007723]])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-8d40ba36-add1-426b-b8c2-e9ae089b0389" class="xr-section-summary-in" type="checkbox"><label for="section-8d40ba36-add1-426b-b8c2-e9ae089b0389" class="xr-section-summary">Indexes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>time</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-2eada24a-1355-4dce-b11b-93feb2a5fbbf" class="xr-index-data-in" type="checkbox"><label for="index-2eada24a-1355-4dce-b11b-93feb2a5fbbf" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(DatetimeIndex(['2016-04-01', '2016-04-15', '2016-05-01', '2017-04-01',
               '2017-04-15', '2017-05-01', '2018-04-01', '2018-04-15',
               '2018-05-01', '2019-04-01', '2019-04-15', '2019-05-01',
               '2020-04-01', '2020-04-15', '2020-05-01', '2021-04-01',
               '2021-04-15', '2021-05-01', '2022-04-01', '2022-04-15',
               '2022-05-01', '2023-04-01', '2023-04-15', '2023-05-01',
               '2024-04-01', '2024-04-15', '2024-05-01'],
              dtype='datetime64[ns]', name='time', freq=None))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>band</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-80c956be-0052-40e9-a8a7-694c5e4ca42d" class="xr-index-data-in" type="checkbox"><label for="index-80c956be-0052-40e9-a8a7-694c5e4ca42d" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['ndvi'], dtype='object', name='band'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>x</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-5a160b39-c91d-4ef8-8c9a-6cfe04deda7c" class="xr-index-data-in" type="checkbox"><label for="index-5a160b39-c91d-4ef8-8c9a-6cfe04deda7c" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([437330.0, 437340.0, 437350.0, 437360.0, 437370.0, 437380.0, 437390.0,
       437400.0, 437410.0, 437420.0,
       ...
       477230.0, 477240.0, 477250.0, 477260.0, 477270.0, 477280.0, 477290.0,
       477300.0, 477310.0, 477320.0],
      dtype='float64', name='x', length=4000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>y</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-d4e93df1-d6e0-4518-9ecd-24c8ea524d45" class="xr-index-data-in" type="checkbox"><label for="index-d4e93df1-d6e0-4518-9ecd-24c8ea524d45" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([7722550.0, 7722540.0, 7722530.0, 7722520.0, 7722510.0, 7722500.0,
       7722490.0, 7722480.0, 7722470.0, 7722460.0,
       ...
       7682650.0, 7682640.0, 7682630.0, 7682620.0, 7682610.0, 7682600.0,
       7682590.0, 7682580.0, 7682570.0, 7682560.0],
      dtype='float64', name='y', length=4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-d49cc02a-df4e-4cbe-b99a-da752199f72d" class="xr-section-summary-in" type="checkbox"><label for="section-d49cc02a-df4e-4cbe-b99a-da752199f72d" class="xr-section-summary">Attributes: <span>(11)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>collection :</span></dt><dd>sentinel_2_monthly_index_mosaics_at_fmi</dd><dt><span>stac :</span></dt><dd>https://paituli.csc.fi/geoserver/ogc/stac/v1</dd><dt><span>epsg :</span></dt><dd>32635</dd><dt><span>resolution :</span></dt><dd>10</dd><dt><span>edge_size :</span></dt><dd>4000</dd><dt><span>central_lat :</span></dt><dd>69.42870189667391</dd><dt><span>central_lon :</span></dt><dd>25.911697105643754</dd><dt><span>central_y :</span></dt><dd>7702545.000115293</dd><dt><span>central_x :</span></dt><dd>457325.0000006164</dd><dt><span>time_coverage_start :</span></dt><dd>2016-04-01</dd><dt><span>time_coverage_end :</span></dt><dd>2025-05-31</dd></dl></div></li></ul></div></div>
</div>
</div>
<div id="6aaa9d92-011a-4558-b7ba-4cbdc0c37990" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>autumn</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "â–º";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "â–¼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray 'sentinel_2_monthly_index_mosaics_at_fmi' (time: 18, band: 1,
                                                             y: 4000, x: 4000)&gt; Size: 2GB
dask.array&lt;getitem, shape=(18, 1, 4000, 4000), dtype=float64, chunksize=(1, 1, 1024, 1024), chunktype=numpy.ndarray&gt;
Coordinates: (12/13)
  * time                       (time) datetime64[ns] 144B 2016-09-15 ... 2024...
    id                         (time) &lt;U49 4kB 'Sentinel-2_indeksimosaiikki_2...
  * band                       (band) &lt;U4 16B 'ndvi'
  * x                          (x) float64 32kB 4.373e+05 ... 4.773e+05
  * y                          (y) float64 32kB 7.723e+06 ... 7.683e+06
    start_datetime             (time) &lt;U29 2kB '2016-09-15T00:00:00.000+00:00...
    ...                         ...
    proj:code                  &lt;U9 36B 'EPSG:3067'
    end_datetime               (time) &lt;U29 2kB '2016-10-15T23:59:59.000+00:00...
    proj:transform             object 8B {0, 1, 7800000, 10, 50000, -10}
    title                      &lt;U4 16B 'ndvi'
    epsg                       int64 8B 32635
    cubo:distance_from_center  (y, x) float64 128MB 2.828e+04 ... 2.827e+04
Attributes:
    collection:           sentinel_2_monthly_index_mosaics_at_fmi
    stac:                 https://paituli.csc.fi/geoserver/ogc/stac/v1
    epsg:                 32635
    resolution:           10
    edge_size:            4000
    central_lat:          69.42870189667391
    central_lon:          25.911697105643754
    central_y:            7702545.000115293
    central_x:            457325.0000006164
    time_coverage_start:  2016-04-01
    time_coverage_end:    2025-05-31</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name">'sentinel_2_monthly_index_mosaics_at_fmi'</div><ul class="xr-dim-list"><li><span class="xr-has-index">time</span>: 18</li><li><span class="xr-has-index">band</span>: 1</li><li><span class="xr-has-index">y</span>: 4000</li><li><span class="xr-has-index">x</span>: 4000</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-b7a874d9-e2dc-4e11-b159-b86a007efe91" class="xr-array-in" type="checkbox" checked=""><label for="section-b7a874d9-e2dc-4e11-b159-b86a007efe91" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>dask.array&lt;chunksize=(1, 1, 1024, 1024), meta=np.ndarray&gt;</span></div><div class="xr-array-data">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td><table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th></th>
<th data-quarto-table-cell-role="th">Array</th>
<th data-quarto-table-cell-role="th">Chunk</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bytes</td>
<td>2.15 GiB</td>
<td>8.00 MiB</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Shape</td>
<td>(18, 1, 4000, 4000)</td>
<td>(1, 1, 1024, 1024)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Dask graph</td>
<td colspan="2">288 chunks in 4 graph layers</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Data type</td>
<td colspan="2">float64 numpy.ndarray</td>
</tr>
</tbody>
</table></td>
<td><svg width="374" height="184" style="stroke:rgb(0,0,0);stroke-width:1">
<!-- Horizontal lines --> <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2"></line> <line x1="0" y1="25" x2="25" y2="25" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2"></line> <line x1="1" y1="0" x2="1" y2="25"></line> <line x1="2" y1="0" x2="2" y2="25"></line> <line x1="4" y1="0" x2="4" y2="25"></line> <line x1="5" y1="0" x2="5" y2="25"></line> <line x1="7" y1="0" x2="7" y2="25"></line> <line x1="8" y1="0" x2="8" y2="25"></line> <line x1="9" y1="0" x2="9" y2="25"></line> <line x1="11" y1="0" x2="11" y2="25"></line> <line x1="12" y1="0" x2="12" y2="25"></line> <line x1="14" y1="0" x2="14" y2="25"></line> <line x1="15" y1="0" x2="15" y2="25"></line> <line x1="16" y1="0" x2="16" y2="25"></line> <line x1="18" y1="0" x2="18" y2="25"></line> <line x1="19" y1="0" x2="19" y2="25"></line> <line x1="21" y1="0" x2="21" y2="25"></line> <line x1="22" y1="0" x2="22" y2="25"></line> <line x1="24" y1="0" x2="24" y2="25"></line> <line x1="25" y1="0" x2="25" y2="25" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Text --> <text x="12.706308" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle">18</text> <text x="45.412617" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,45.412617,12.706308)">1</text> <!-- Horizontal lines --> <line x1="95" y1="0" x2="109" y2="14" style="stroke-width:2"></line> <line x1="95" y1="30" x2="109" y2="45"></line> <line x1="95" y1="61" x2="109" y2="76"></line> <line x1="95" y1="92" x2="109" y2="107"></line> <line x1="95" y1="120" x2="109" y2="134" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="95" y1="0" x2="95" y2="120" style="stroke-width:2"></line> <line x1="109" y1="14" x2="109" y2="134" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="95.0,0.0 109.9485979497544,14.948597949754403 109.9485979497544,134.9485979497544 95.0,120.0" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Horizontal lines --> <line x1="95" y1="0" x2="215" y2="0" style="stroke-width:2"></line> <line x1="109" y1="14" x2="229" y2="14" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="95" y1="0" x2="109" y2="14" style="stroke-width:2"></line> <line x1="125" y1="0" x2="140" y2="14"></line> <line x1="156" y1="0" x2="171" y2="14"></line> <line x1="187" y1="0" x2="202" y2="14"></line> <line x1="215" y1="0" x2="229" y2="14" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="95.0,0.0 215.0,0.0 229.9485979497544,14.948597949754403 109.9485979497544,14.948597949754403" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Horizontal lines --> <line x1="109" y1="14" x2="229" y2="14" style="stroke-width:2"></line> <line x1="109" y1="45" x2="229" y2="45"></line> <line x1="109" y1="76" x2="229" y2="76"></line> <line x1="109" y1="107" x2="229" y2="107"></line> <line x1="109" y1="134" x2="229" y2="134" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="109" y1="14" x2="109" y2="134" style="stroke-width:2"></line> <line x1="140" y1="14" x2="140" y2="134"></line> <line x1="171" y1="14" x2="171" y2="134"></line> <line x1="202" y1="14" x2="202" y2="134"></line> <line x1="229" y1="14" x2="229" y2="134" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="109.9485979497544,14.948597949754403 229.9485979497544,14.948597949754403 229.9485979497544,134.9485979497544 109.9485979497544,134.9485979497544" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Text --> <text x="169.948598" y="154.948598" font-size="1.0rem" font-weight="100" text-anchor="middle">4000</text> <text x="249.948598" y="74.948598" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,249.948598,74.948598)">4000</text> <text x="92.474299" y="147.474299" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,92.474299,147.474299)">1</text>
</svg></td>
</tr>
</tbody>
</table>
</div></div></li><li class="xr-section-item"><input id="section-e2a22851-083a-4a79-8467-5644734b0535" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-e2a22851-083a-4a79-8467-5644734b0535" class="xr-section-summary">Coordinates: <span>(13)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">time</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">datetime64[ns]</div><div class="xr-var-preview xr-preview">2016-09-15 ... 2024-10-01</div><input id="attrs-be739cf0-6d1d-4340-aff9-100c8cbad9e2" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-be739cf0-6d1d-4340-aff9-100c8cbad9e2" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-68c2d003-9772-4a9e-bf2a-74144773bfb0" class="xr-var-data-in" type="checkbox"><label for="data-68c2d003-9772-4a9e-bf2a-74144773bfb0" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['2016-09-15T00:00:00.000000000', '2016-10-01T00:00:00.000000000',
       '2017-09-15T00:00:00.000000000', '2017-10-01T00:00:00.000000000',
       '2018-09-15T00:00:00.000000000', '2018-10-01T00:00:00.000000000',
       '2019-09-15T00:00:00.000000000', '2019-10-01T00:00:00.000000000',
       '2020-09-15T00:00:00.000000000', '2020-10-01T00:00:00.000000000',
       '2021-09-15T00:00:00.000000000', '2021-10-01T00:00:00.000000000',
       '2022-09-15T00:00:00.000000000', '2022-10-01T00:00:00.000000000',
       '2023-09-15T00:00:00.000000000', '2023-10-01T00:00:00.000000000',
       '2024-09-15T00:00:00.000000000', '2024-10-01T00:00:00.000000000'],
      dtype='datetime64[ns]')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>id</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">&lt;U49</div><div class="xr-var-preview xr-preview">'Sentinel-2_indeksimosaiikki_201...</div><input id="attrs-c32bf697-dd8d-4db9-9c89-d018b041da28" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-c32bf697-dd8d-4db9-9c89-d018b041da28" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3ca1b71a-bd70-4b74-bc6a-36776b7d1a43" class="xr-var-data-in" type="checkbox"><label for="data-3ca1b71a-bd70-4b74-bc6a-36776b7d1a43" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['Sentinel-2_indeksimosaiikki_2016-09-15_2016-10-15',
       'Sentinel-2_indeksimosaiikki_2016-10-01_2016-10-31',
       'Sentinel-2_indeksimosaiikki_2017-09-15_2017-10-15',
       'Sentinel-2_indeksimosaiikki_2017-10-01_2017-10-31',
       'Sentinel-2_indeksimosaiikki_2018-09-15_2018-10-15',
       'Sentinel-2_indeksimosaiikki_2018-10-01_2018-10-31',
       'Sentinel-2_indeksimosaiikki_2019-09-15_2019-10-15',
       'Sentinel-2_indeksimosaiikki_2019-10-01_2019-10-31',
       'Sentinel-2_indeksimosaiikki_2020-09-15_2020-10-15',
       'Sentinel-2_indeksimosaiikki_2020-10-01_2020-10-31',
       'Sentinel-2_indeksimosaiikki_2021-09-15_2021-10-15',
       'Sentinel-2_indeksimosaiikki_2021-10-01_2021-10-31',
       'Sentinel-2_indeksimosaiikki_2022-09-15_2022-10-15',
       'Sentinel-2_indeksimosaiikki_2022-10-01_2022-10-31',
       'Sentinel-2_indeksimosaiikki_2023-09-15_2023-10-15',
       'Sentinel-2_indeksimosaiikki_2023-10-01_2023-10-31',
       'Sentinel-2_indeksimosaiikki_2024-09-15_2024-10-15',
       'Sentinel-2_indeksimosaiikki_2024-10-01_2024-10-31'], dtype='&lt;U49')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">band</span></div><div class="xr-var-dims">(band)</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-8840a620-97e1-403e-8222-6b0ee664fe64" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-8840a620-97e1-403e-8222-6b0ee664fe64" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-03fe547d-55e3-4a19-9db0-ecaf60666573" class="xr-var-data-in" type="checkbox"><label for="data-03fe547d-55e3-4a19-9db0-ecaf60666573" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['ndvi'], dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">x</span></div><div class="xr-var-dims">(x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">4.373e+05 4.373e+05 ... 4.773e+05</div><input id="attrs-19dc119d-4c5c-4e62-a1b0-bea9cd427ddd" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-19dc119d-4c5c-4e62-a1b0-bea9cd427ddd" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-145710a5-61b0-4f7b-b67b-dcf80c1e461e" class="xr-var-data-in" type="checkbox"><label for="data-145710a5-61b0-4f7b-b67b-dcf80c1e461e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([437330., 437340., 437350., ..., 477300., 477310., 477320.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">y</span></div><div class="xr-var-dims">(y)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">7.723e+06 7.723e+06 ... 7.683e+06</div><input id="attrs-f60dd5a1-5eee-422c-90fe-3808c9aa77f5" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f60dd5a1-5eee-422c-90fe-3808c9aa77f5" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-2efc981b-5e7a-4f54-9ede-47a5eaa79a59" class="xr-var-data-in" type="checkbox"><label for="data-2efc981b-5e7a-4f54-9ede-47a5eaa79a59" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([7722550., 7722540., 7722530., ..., 7682580., 7682570., 7682560.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>start_datetime</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">&lt;U29</div><div class="xr-var-preview xr-preview">'2016-09-15T00:00:00.000+00:00' ...</div><input id="attrs-ad2ed150-febc-4414-aca0-8d6d8cd5d083" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ad2ed150-febc-4414-aca0-8d6d8cd5d083" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-0fd22389-175c-4bae-b058-7c64e089ebd2" class="xr-var-data-in" type="checkbox"><label for="data-0fd22389-175c-4bae-b058-7c64e089ebd2" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['2016-09-15T00:00:00.000+00:00', '2016-10-01T00:00:00.000+00:00',
       '2017-09-15T00:00:00.000+00:00', '2017-10-01T00:00:00.000+00:00',
       '2018-09-15T00:00:00.000+00:00', '2018-10-01T00:00:00.000+00:00',
       '2019-09-15T00:00:00.000+00:00', '2019-10-01T00:00:00.000+00:00',
       '2020-09-15T00:00:00.000+00:00', '2020-10-01T00:00:00.000+00:00',
       '2021-09-15T00:00:00.000+00:00', '2021-10-01T00:00:00.000+00:00',
       '2022-09-15T00:00:00.000+00:00', '2022-10-01T00:00:00.000+00:00',
       '2023-09-15T00:00:00.000+00:00', '2023-10-01T00:00:00.000+00:00',
       '2024-09-15T00:00:00.000+00:00', '2024-10-01T00:00:00.000+00:00'],
      dtype='&lt;U29')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>gsd</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">10.0</div><input id="attrs-ec0931d2-7fe3-4f76-9532-6492ab330eb2" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ec0931d2-7fe3-4f76-9532-6492ab330eb2" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-29d7c9da-7e34-4a93-8872-7909eb461e7e" class="xr-var-data-in" type="checkbox"><label for="data-29d7c9da-7e34-4a93-8872-7909eb461e7e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(10.)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:code</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U9</div><div class="xr-var-preview xr-preview">'EPSG:3067'</div><input id="attrs-cb8ca9b2-7c9c-45f8-8557-4900aed33bbc" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-cb8ca9b2-7c9c-45f8-8557-4900aed33bbc" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-76df4b2b-e33f-4878-905d-b74d51b72379" class="xr-var-data-in" type="checkbox"><label for="data-76df4b2b-e33f-4878-905d-b74d51b72379" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('EPSG:3067', dtype='&lt;U9')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>end_datetime</span></div><div class="xr-var-dims">(time)</div><div class="xr-var-dtype">&lt;U29</div><div class="xr-var-preview xr-preview">'2016-10-15T23:59:59.000+00:00' ...</div><input id="attrs-383b6b55-750e-4ab8-b8cd-7a88e2cdc969" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-383b6b55-750e-4ab8-b8cd-7a88e2cdc969" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-70890933-335f-46bc-aadb-51bd7012acf0" class="xr-var-data-in" type="checkbox"><label for="data-70890933-335f-46bc-aadb-51bd7012acf0" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['2016-10-15T23:59:59.000+00:00', '2016-10-31T23:59:59.000+00:00',
       '2017-10-15T23:59:59.000+00:00', '2017-10-31T23:59:59.000+00:00',
       '2018-10-15T23:59:59.000+00:00', '2018-10-31T23:59:59.000+00:00',
       '2019-10-15T23:59:59.000+00:00', '2019-10-31T23:59:59.000+00:00',
       '2020-10-15T23:59:59.000+00:00', '2020-10-31T23:59:59.000+00:00',
       '2021-10-15T23:59:59.000+00:00', '2021-10-31T23:59:59.000+00:00',
       '2022-10-15T23:59:59.000+00:00', '2022-10-31T23:59:59.000+00:00',
       '2023-10-15T23:59:59.000+00:00', '2023-10-31T23:59:59.000+00:00',
       '2024-10-15T23:59:59.000+00:00', '2024-10-31T23:59:59.000+00:00'],
      dtype='&lt;U29')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:transform</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">object</div><div class="xr-var-preview xr-preview">{0, 1, 7800000, 10, 50000, -10}</div><input id="attrs-c8daae21-aaba-46a5-9487-6f24592ec6cb" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-c8daae21-aaba-46a5-9487-6f24592ec6cb" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-7d3df785-5b01-4ddb-8a0d-314659e689d7" class="xr-var-data-in" type="checkbox"><label for="data-7d3df785-5b01-4ddb-8a0d-314659e689d7" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array({0, 1, 7800000, 10, 50000, -10}, dtype=object)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>title</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-d5fbc82e-afc0-4e3e-b13f-92dbda5e649f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d5fbc82e-afc0-4e3e-b13f-92dbda5e649f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-29c4678b-0a45-4d02-ad5c-389dcf8e8ac7" class="xr-var-data-in" type="checkbox"><label for="data-29c4678b-0a45-4d02-ad5c-389dcf8e8ac7" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('ndvi', dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>epsg</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">32635</div><input id="attrs-4eeab48f-fedc-48b1-b734-ceb58e1a7f2e" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4eeab48f-fedc-48b1-b734-ceb58e1a7f2e" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-c84bccb0-670d-40a2-8fb9-2ebf1c3787f2" class="xr-var-data-in" type="checkbox"><label for="data-c84bccb0-670d-40a2-8fb9-2ebf1c3787f2" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(32635)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>cubo:distance_from_center</span></div><div class="xr-var-dims">(y, x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.828e+04 2.828e+04 ... 2.827e+04</div><input id="attrs-f8ab8bae-e8af-4ef9-ba17-6453b1c2b00d" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f8ab8bae-e8af-4ef9-ba17-6453b1c2b00d" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-bf6f90a7-774a-4095-a20b-fa055c90e333" class="xr-var-data-in" type="checkbox"><label for="data-bf6f90a7-774a-4095-a20b-fa055c90e333" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[28284.27205024, 28277.20009856, 28270.1299151 , ...,
        28255.99502103, 28263.06166413, 28270.1300781 ],
       [28277.20363494, 28270.12991505, 28263.05796294, ...,
        28248.91953028, 28255.98794292, 28263.05812599],
       [28270.13698962, 28263.06150108, 28255.98777987, ...,
        28241.84580774, 28248.91599036, 28255.98794296],
       ...,
       [28270.13698875, 28263.06150021, 28255.987779  , ...,
        28241.84580687, 28248.91598949, 28255.98794209],
       [28277.20363407, 28270.12991418, 28263.05796207, ...,
        28248.91952941, 28255.98794205, 28263.05812511],
       [28284.27204936, 28277.20009769, 28270.12991422, ...,
        28255.99502015, 28263.06166326, 28270.13007723]])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-eb06d1d9-5a1d-4a18-8e1d-91e19caa846e" class="xr-section-summary-in" type="checkbox"><label for="section-eb06d1d9-5a1d-4a18-8e1d-91e19caa846e" class="xr-section-summary">Indexes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>time</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-97a9953a-29c5-40fb-93f2-443e611918b4" class="xr-index-data-in" type="checkbox"><label for="index-97a9953a-29c5-40fb-93f2-443e611918b4" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(DatetimeIndex(['2016-09-15', '2016-10-01', '2017-09-15', '2017-10-01',
               '2018-09-15', '2018-10-01', '2019-09-15', '2019-10-01',
               '2020-09-15', '2020-10-01', '2021-09-15', '2021-10-01',
               '2022-09-15', '2022-10-01', '2023-09-15', '2023-10-01',
               '2024-09-15', '2024-10-01'],
              dtype='datetime64[ns]', name='time', freq=None))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>band</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-8db1214b-0374-4a64-8777-154fe587533a" class="xr-index-data-in" type="checkbox"><label for="index-8db1214b-0374-4a64-8777-154fe587533a" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['ndvi'], dtype='object', name='band'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>x</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-dae6ebc5-7eea-48e0-91b4-03a3bed3b85c" class="xr-index-data-in" type="checkbox"><label for="index-dae6ebc5-7eea-48e0-91b4-03a3bed3b85c" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([437330.0, 437340.0, 437350.0, 437360.0, 437370.0, 437380.0, 437390.0,
       437400.0, 437410.0, 437420.0,
       ...
       477230.0, 477240.0, 477250.0, 477260.0, 477270.0, 477280.0, 477290.0,
       477300.0, 477310.0, 477320.0],
      dtype='float64', name='x', length=4000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>y</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-312c9996-3119-4868-9b73-71758179081e" class="xr-index-data-in" type="checkbox"><label for="index-312c9996-3119-4868-9b73-71758179081e" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([7722550.0, 7722540.0, 7722530.0, 7722520.0, 7722510.0, 7722500.0,
       7722490.0, 7722480.0, 7722470.0, 7722460.0,
       ...
       7682650.0, 7682640.0, 7682630.0, 7682620.0, 7682610.0, 7682600.0,
       7682590.0, 7682580.0, 7682570.0, 7682560.0],
      dtype='float64', name='y', length=4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-5c89c1e4-dfab-4afb-b588-33890c3fafc5" class="xr-section-summary-in" type="checkbox"><label for="section-5c89c1e4-dfab-4afb-b588-33890c3fafc5" class="xr-section-summary">Attributes: <span>(11)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>collection :</span></dt><dd>sentinel_2_monthly_index_mosaics_at_fmi</dd><dt><span>stac :</span></dt><dd>https://paituli.csc.fi/geoserver/ogc/stac/v1</dd><dt><span>epsg :</span></dt><dd>32635</dd><dt><span>resolution :</span></dt><dd>10</dd><dt><span>edge_size :</span></dt><dd>4000</dd><dt><span>central_lat :</span></dt><dd>69.42870189667391</dd><dt><span>central_lon :</span></dt><dd>25.911697105643754</dd><dt><span>central_y :</span></dt><dd>7702545.000115293</dd><dt><span>central_x :</span></dt><dd>457325.0000006164</dd><dt><span>time_coverage_start :</span></dt><dd>2016-04-01</dd><dt><span>time_coverage_end :</span></dt><dd>2025-05-31</dd></dl></div></li></ul></div></div>
</div>
</div>
<p>Base mosaics are median values for these timesteps.</p>
<div id="c2ee139a-c4f3-443c-9611-1a9aec76bdbf" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>base_spring <span class="op">=</span> spring.sel(band<span class="op">=</span><span class="st">'ndvi'</span>).median(dim<span class="op">=</span><span class="st">'time'</span>, skipna<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>base_autumn <span class="op">=</span> autumn.sel(band<span class="op">=</span><span class="st">'ndvi'</span>).median(dim<span class="op">=</span><span class="st">'time'</span>, skipna<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f7bb4f50-40db-48f0-ac50-6419d77a8d98" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>base_spring</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "â–º";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "â–¼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray 'sentinel_2_monthly_index_mosaics_at_fmi' (y: 4000, x: 4000)&gt; Size: 128MB
dask.array&lt;nanmedian, shape=(4000, 4000), dtype=float64, chunksize=(788, 788), chunktype=numpy.ndarray&gt;
Coordinates:
    band                       &lt;U4 16B 'ndvi'
  * x                          (x) float64 32kB 4.373e+05 ... 4.773e+05
  * y                          (y) float64 32kB 7.723e+06 ... 7.683e+06
    gsd                        float64 8B 10.0
    proj:code                  &lt;U9 36B 'EPSG:3067'
    proj:transform             object 8B {0, 1, 7800000, 10, 50000, -10}
    title                      &lt;U4 16B 'ndvi'
    epsg                       int64 8B 32635
    cubo:distance_from_center  (y, x) float64 128MB 2.828e+04 ... 2.827e+04</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name">'sentinel_2_monthly_index_mosaics_at_fmi'</div><ul class="xr-dim-list"><li><span class="xr-has-index">y</span>: 4000</li><li><span class="xr-has-index">x</span>: 4000</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-ffefe314-4939-40c8-baab-f8f271cabd33" class="xr-array-in" type="checkbox" checked=""><label for="section-ffefe314-4939-40c8-baab-f8f271cabd33" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>dask.array&lt;chunksize=(788, 788), meta=np.ndarray&gt;</span></div><div class="xr-array-data">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td><table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th></th>
<th data-quarto-table-cell-role="th">Array</th>
<th data-quarto-table-cell-role="th">Chunk</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bytes</td>
<td>122.07 MiB</td>
<td>4.74 MiB</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Shape</td>
<td>(4000, 4000)</td>
<td>(788, 788)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Dask graph</td>
<td colspan="2">36 chunks in 8 graph layers</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Data type</td>
<td colspan="2">float64 numpy.ndarray</td>
</tr>
</tbody>
</table></td>
<td><svg width="170" height="170" style="stroke:rgb(0,0,0);stroke-width:1">
<!-- Horizontal lines --> <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2"></line> <line x1="0" y1="23" x2="120" y2="23"></line> <line x1="0" y1="47" x2="120" y2="47"></line> <line x1="0" y1="70" x2="120" y2="70"></line> <line x1="0" y1="94" x2="120" y2="94"></line> <line x1="0" y1="118" x2="120" y2="118"></line> <line x1="0" y1="120" x2="120" y2="120" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="0" y1="0" x2="0" y2="120" style="stroke-width:2"></line> <line x1="23" y1="0" x2="23" y2="120"></line> <line x1="47" y1="0" x2="47" y2="120"></line> <line x1="70" y1="0" x2="70" y2="120"></line> <line x1="94" y1="0" x2="94" y2="120"></line> <line x1="118" y1="0" x2="118" y2="120"></line> <line x1="120" y1="0" x2="120" y2="120" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="0.0,0.0 120.0,0.0 120.0,120.0 0.0,120.0" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Text --> <text x="60.000000" y="140.000000" font-size="1.0rem" font-weight="100" text-anchor="middle">4000</text> <text x="140.000000" y="60.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,140.000000,60.000000)">4000</text>
</svg></td>
</tr>
</tbody>
</table>
</div></div></li><li class="xr-section-item"><input id="section-a30e3a47-78e6-43b4-9f4c-b74e62dc78c8" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-a30e3a47-78e6-43b4-9f4c-b74e62dc78c8" class="xr-section-summary">Coordinates: <span>(9)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>band</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-90a4a520-5ef8-4a07-a9e7-e6f0848078a2" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-90a4a520-5ef8-4a07-a9e7-e6f0848078a2" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-097ae8cc-02c4-4b35-8cc9-7184b0e8ed97" class="xr-var-data-in" type="checkbox"><label for="data-097ae8cc-02c4-4b35-8cc9-7184b0e8ed97" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('ndvi', dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">x</span></div><div class="xr-var-dims">(x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">4.373e+05 4.373e+05 ... 4.773e+05</div><input id="attrs-50e0b111-3226-487d-b7ca-f92ea3795db4" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-50e0b111-3226-487d-b7ca-f92ea3795db4" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-aab937d5-9e2e-4ea5-965b-b6dcc97ea11c" class="xr-var-data-in" type="checkbox"><label for="data-aab937d5-9e2e-4ea5-965b-b6dcc97ea11c" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([437330., 437340., 437350., ..., 477300., 477310., 477320.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">y</span></div><div class="xr-var-dims">(y)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">7.723e+06 7.723e+06 ... 7.683e+06</div><input id="attrs-4518e5b2-42f7-47a0-8c0c-367efc13ef63" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4518e5b2-42f7-47a0-8c0c-367efc13ef63" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-0fc13322-c34d-4747-a408-96550ef2d75f" class="xr-var-data-in" type="checkbox"><label for="data-0fc13322-c34d-4747-a408-96550ef2d75f" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([7722550., 7722540., 7722530., ..., 7682580., 7682570., 7682560.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>gsd</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">10.0</div><input id="attrs-b50bbf5c-7b60-4aab-ba97-246977c4f844" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b50bbf5c-7b60-4aab-ba97-246977c4f844" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-24853848-9313-49aa-882e-ecf5d24e51c3" class="xr-var-data-in" type="checkbox"><label for="data-24853848-9313-49aa-882e-ecf5d24e51c3" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(10.)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:code</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U9</div><div class="xr-var-preview xr-preview">'EPSG:3067'</div><input id="attrs-5cc30f93-756d-4af7-bca0-3a0d9d8c84c4" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-5cc30f93-756d-4af7-bca0-3a0d9d8c84c4" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-25e315da-7567-49ca-864e-bf6c28021cfa" class="xr-var-data-in" type="checkbox"><label for="data-25e315da-7567-49ca-864e-bf6c28021cfa" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('EPSG:3067', dtype='&lt;U9')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:transform</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">object</div><div class="xr-var-preview xr-preview">{0, 1, 7800000, 10, 50000, -10}</div><input id="attrs-b29ffd87-0688-4951-8621-49e25c0d6ec1" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b29ffd87-0688-4951-8621-49e25c0d6ec1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-98964d54-060a-4982-9df0-bc4fb49bfb0e" class="xr-var-data-in" type="checkbox"><label for="data-98964d54-060a-4982-9df0-bc4fb49bfb0e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array({0, 1, 7800000, 10, 50000, -10}, dtype=object)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>title</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-e0c52463-489a-4c75-b1df-26bdaa5f079d" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-e0c52463-489a-4c75-b1df-26bdaa5f079d" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-8782186c-6d1a-449c-9503-ac573019d97b" class="xr-var-data-in" type="checkbox"><label for="data-8782186c-6d1a-449c-9503-ac573019d97b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('ndvi', dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>epsg</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">32635</div><input id="attrs-38442db9-6101-48a4-a0fc-5079ce1efb11" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-38442db9-6101-48a4-a0fc-5079ce1efb11" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ebf2509c-c27c-444b-b37c-98ea0d0905c8" class="xr-var-data-in" type="checkbox"><label for="data-ebf2509c-c27c-444b-b37c-98ea0d0905c8" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(32635)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>cubo:distance_from_center</span></div><div class="xr-var-dims">(y, x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.828e+04 2.828e+04 ... 2.827e+04</div><input id="attrs-5396c3bc-cea1-4ed5-bdee-ba60e7875908" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-5396c3bc-cea1-4ed5-bdee-ba60e7875908" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a8982ad0-8956-418a-807a-3848c724d2b3" class="xr-var-data-in" type="checkbox"><label for="data-a8982ad0-8956-418a-807a-3848c724d2b3" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[28284.27205024, 28277.20009856, 28270.1299151 , ...,
        28255.99502103, 28263.06166413, 28270.1300781 ],
       [28277.20363494, 28270.12991505, 28263.05796294, ...,
        28248.91953028, 28255.98794292, 28263.05812599],
       [28270.13698962, 28263.06150108, 28255.98777987, ...,
        28241.84580774, 28248.91599036, 28255.98794296],
       ...,
       [28270.13698875, 28263.06150021, 28255.987779  , ...,
        28241.84580687, 28248.91598949, 28255.98794209],
       [28277.20363407, 28270.12991418, 28263.05796207, ...,
        28248.91952941, 28255.98794205, 28263.05812511],
       [28284.27204936, 28277.20009769, 28270.12991422, ...,
        28255.99502015, 28263.06166326, 28270.13007723]])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-5d3fb767-106e-4c9e-bb57-808357b6cb9d" class="xr-section-summary-in" type="checkbox"><label for="section-5d3fb767-106e-4c9e-bb57-808357b6cb9d" class="xr-section-summary">Indexes: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>x</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-17f1a721-f059-4d50-a5ab-50f65ea144f8" class="xr-index-data-in" type="checkbox"><label for="index-17f1a721-f059-4d50-a5ab-50f65ea144f8" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([437330.0, 437340.0, 437350.0, 437360.0, 437370.0, 437380.0, 437390.0,
       437400.0, 437410.0, 437420.0,
       ...
       477230.0, 477240.0, 477250.0, 477260.0, 477270.0, 477280.0, 477290.0,
       477300.0, 477310.0, 477320.0],
      dtype='float64', name='x', length=4000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>y</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-907f27d5-b472-4427-a9a9-c5abe4f4aaf4" class="xr-index-data-in" type="checkbox"><label for="index-907f27d5-b472-4427-a9a9-c5abe4f4aaf4" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([7722550.0, 7722540.0, 7722530.0, 7722520.0, 7722510.0, 7722500.0,
       7722490.0, 7722480.0, 7722470.0, 7722460.0,
       ...
       7682650.0, 7682640.0, 7682630.0, 7682620.0, 7682610.0, 7682600.0,
       7682590.0, 7682580.0, 7682570.0, 7682560.0],
      dtype='float64', name='y', length=4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-0c8b7116-667e-41f5-9945-12ff45f016fc" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-0c8b7116-667e-41f5-9945-12ff45f016fc" class="xr-section-summary" title="Expand/collapse section">Attributes: <span>(0)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"></dl></div></li></ul></div></div>
</div>
</div>
<div id="e51889e3-a365-445b-8c9b-e9414fc3cb58" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>base_spring.rio.write_crs(<span class="st">'EPSG:3067'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#base_spring.astype(np.uint8).rio.to_raster('stac_data/spring_base.tif') # Uncomment to save the file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "â–º";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "â–¼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray 'sentinel_2_monthly_index_mosaics_at_fmi' (y: 4000, x: 4000)&gt; Size: 128MB
dask.array&lt;nanmedian, shape=(4000, 4000), dtype=float64, chunksize=(788, 788), chunktype=numpy.ndarray&gt;
Coordinates:
    band                       &lt;U4 16B 'ndvi'
  * x                          (x) float64 32kB 4.373e+05 ... 4.773e+05
  * y                          (y) float64 32kB 7.723e+06 ... 7.683e+06
    gsd                        float64 8B 10.0
    proj:code                  &lt;U9 36B 'EPSG:3067'
    proj:transform             object 8B {0, 1, 7800000, 10, 50000, -10}
    title                      &lt;U4 16B 'ndvi'
    epsg                       int64 8B 32635
    cubo:distance_from_center  (y, x) float64 128MB 2.828e+04 ... 2.827e+04
    spatial_ref                int64 8B 0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name">'sentinel_2_monthly_index_mosaics_at_fmi'</div><ul class="xr-dim-list"><li><span class="xr-has-index">y</span>: 4000</li><li><span class="xr-has-index">x</span>: 4000</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-9cb55d44-f6ce-4e0e-8fd7-85cfde6235ac" class="xr-array-in" type="checkbox" checked=""><label for="section-9cb55d44-f6ce-4e0e-8fd7-85cfde6235ac" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>dask.array&lt;chunksize=(788, 788), meta=np.ndarray&gt;</span></div><div class="xr-array-data">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td><table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th></th>
<th data-quarto-table-cell-role="th">Array</th>
<th data-quarto-table-cell-role="th">Chunk</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bytes</td>
<td>122.07 MiB</td>
<td>4.74 MiB</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Shape</td>
<td>(4000, 4000)</td>
<td>(788, 788)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Dask graph</td>
<td colspan="2">36 chunks in 8 graph layers</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Data type</td>
<td colspan="2">float64 numpy.ndarray</td>
</tr>
</tbody>
</table></td>
<td><svg width="170" height="170" style="stroke:rgb(0,0,0);stroke-width:1">
<!-- Horizontal lines --> <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2"></line> <line x1="0" y1="23" x2="120" y2="23"></line> <line x1="0" y1="47" x2="120" y2="47"></line> <line x1="0" y1="70" x2="120" y2="70"></line> <line x1="0" y1="94" x2="120" y2="94"></line> <line x1="0" y1="118" x2="120" y2="118"></line> <line x1="0" y1="120" x2="120" y2="120" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="0" y1="0" x2="0" y2="120" style="stroke-width:2"></line> <line x1="23" y1="0" x2="23" y2="120"></line> <line x1="47" y1="0" x2="47" y2="120"></line> <line x1="70" y1="0" x2="70" y2="120"></line> <line x1="94" y1="0" x2="94" y2="120"></line> <line x1="118" y1="0" x2="118" y2="120"></line> <line x1="120" y1="0" x2="120" y2="120" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="0.0,0.0 120.0,0.0 120.0,120.0 0.0,120.0" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Text --> <text x="60.000000" y="140.000000" font-size="1.0rem" font-weight="100" text-anchor="middle">4000</text> <text x="140.000000" y="60.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,140.000000,60.000000)">4000</text>
</svg></td>
</tr>
</tbody>
</table>
</div></div></li><li class="xr-section-item"><input id="section-912769e3-d409-4bcd-8377-6131b83880be" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-912769e3-d409-4bcd-8377-6131b83880be" class="xr-section-summary">Coordinates: <span>(10)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>band</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-cba1b6cc-734d-426d-bfeb-71d7379b5999" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-cba1b6cc-734d-426d-bfeb-71d7379b5999" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-69589ebd-ccfe-42b0-a919-1f8eab18281e" class="xr-var-data-in" type="checkbox"><label for="data-69589ebd-ccfe-42b0-a919-1f8eab18281e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('ndvi', dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">x</span></div><div class="xr-var-dims">(x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">4.373e+05 4.373e+05 ... 4.773e+05</div><input id="attrs-1085b2f7-9a4f-4a66-aae9-e4dce75a14a0" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-1085b2f7-9a4f-4a66-aae9-e4dce75a14a0" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-5a89b72c-2e16-496a-88b4-50b2b1fb2b77" class="xr-var-data-in" type="checkbox"><label for="data-5a89b72c-2e16-496a-88b4-50b2b1fb2b77" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([437330., 437340., 437350., ..., 477300., 477310., 477320.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">y</span></div><div class="xr-var-dims">(y)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">7.723e+06 7.723e+06 ... 7.683e+06</div><input id="attrs-464fdcd3-e181-4da8-84f1-056cec33540d" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-464fdcd3-e181-4da8-84f1-056cec33540d" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-47804cf4-126c-4f55-89e1-97c22716b2ec" class="xr-var-data-in" type="checkbox"><label for="data-47804cf4-126c-4f55-89e1-97c22716b2ec" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([7722550., 7722540., 7722530., ..., 7682580., 7682570., 7682560.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>gsd</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">10.0</div><input id="attrs-cc993c33-088f-4137-8309-a11cb8d1aca1" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-cc993c33-088f-4137-8309-a11cb8d1aca1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-7878dd85-c247-479f-9247-7805d684aa6e" class="xr-var-data-in" type="checkbox"><label for="data-7878dd85-c247-479f-9247-7805d684aa6e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(10.)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:code</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U9</div><div class="xr-var-preview xr-preview">'EPSG:3067'</div><input id="attrs-2c12a468-054c-44bd-b44b-7006aaa111ab" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-2c12a468-054c-44bd-b44b-7006aaa111ab" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-7a3a64ef-c905-439d-9ed8-bc9c644904ab" class="xr-var-data-in" type="checkbox"><label for="data-7a3a64ef-c905-439d-9ed8-bc9c644904ab" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('EPSG:3067', dtype='&lt;U9')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:transform</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">object</div><div class="xr-var-preview xr-preview">{0, 1, 7800000, 10, 50000, -10}</div><input id="attrs-6fad4923-5e10-4f28-86cb-1068a2fe511f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-6fad4923-5e10-4f28-86cb-1068a2fe511f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-5c80f856-125c-4761-b0dc-bf53e29847f8" class="xr-var-data-in" type="checkbox"><label for="data-5c80f856-125c-4761-b0dc-bf53e29847f8" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array({0, 1, 7800000, 10, 50000, -10}, dtype=object)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>title</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-4085f58a-29c2-4d0f-bd04-de9fa00e20a1" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4085f58a-29c2-4d0f-bd04-de9fa00e20a1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-16e3b65d-e11c-4f30-9db6-d58468b29e56" class="xr-var-data-in" type="checkbox"><label for="data-16e3b65d-e11c-4f30-9db6-d58468b29e56" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('ndvi', dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>epsg</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">32635</div><input id="attrs-4cba6fc2-c480-4d08-8fea-576be5ca04c6" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4cba6fc2-c480-4d08-8fea-576be5ca04c6" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-348cf131-345e-49d3-bb94-b74902351ca0" class="xr-var-data-in" type="checkbox"><label for="data-348cf131-345e-49d3-bb94-b74902351ca0" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(32635)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>cubo:distance_from_center</span></div><div class="xr-var-dims">(y, x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.828e+04 2.828e+04 ... 2.827e+04</div><input id="attrs-d847e5de-93fb-4157-81cd-d79327f87112" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d847e5de-93fb-4157-81cd-d79327f87112" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-8f417098-17a5-42b6-b041-a11b35699852" class="xr-var-data-in" type="checkbox"><label for="data-8f417098-17a5-42b6-b041-a11b35699852" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[28284.27205024, 28277.20009856, 28270.1299151 , ...,
        28255.99502103, 28263.06166413, 28270.1300781 ],
       [28277.20363494, 28270.12991505, 28263.05796294, ...,
        28248.91953028, 28255.98794292, 28263.05812599],
       [28270.13698962, 28263.06150108, 28255.98777987, ...,
        28241.84580774, 28248.91599036, 28255.98794296],
       ...,
       [28270.13698875, 28263.06150021, 28255.987779  , ...,
        28241.84580687, 28248.91598949, 28255.98794209],
       [28277.20363407, 28270.12991418, 28263.05796207, ...,
        28248.91952941, 28255.98794205, 28263.05812511],
       [28284.27204936, 28277.20009769, 28270.12991422, ...,
        28255.99502015, 28263.06166326, 28270.13007723]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>spatial_ref</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0</div><input id="attrs-178b781e-c9c2-4fa1-913c-caea11b9a926" class="xr-var-attrs-in" type="checkbox"><label for="attrs-178b781e-c9c2-4fa1-913c-caea11b9a926" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b5aaaf03-18dd-41c3-8464-0955232f02a8" class="xr-var-data-in" type="checkbox"><label for="data-b5aaaf03-18dd-41c3-8464-0955232f02a8" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>crs_wkt :</span></dt><dd>PROJCS["EUREF-FIN / TM35FIN(E,N)",GEOGCS["EUREF-FIN",DATUM["EUREF-FIN",SPHEROID["GRS 1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],AUTHORITY["EPSG","1391"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","10690"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",27],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","3067"]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314140356</dd><dt><span>inverse_flattening :</span></dt><dd>298.257222101</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>GRS 1980</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>EUREF-FIN</dd><dt><span>horizontal_datum_name :</span></dt><dd>EUREF-FIN</dd><dt><span>projected_crs_name :</span></dt><dd>EUREF-FIN / TM35FIN(E,N)</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>27.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS["EUREF-FIN / TM35FIN(E,N)",GEOGCS["EUREF-FIN",DATUM["EUREF-FIN",SPHEROID["GRS 1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],AUTHORITY["EPSG","1391"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","10690"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",27],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","3067"]]</dd></dl></div><div class="xr-var-data"><pre>array(0)</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-4b78556a-0289-421e-b3fc-db307ee53c16" class="xr-section-summary-in" type="checkbox"><label for="section-4b78556a-0289-421e-b3fc-db307ee53c16" class="xr-section-summary">Indexes: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>x</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-40b3d251-5ec0-4c91-a06c-ff2da64e245c" class="xr-index-data-in" type="checkbox"><label for="index-40b3d251-5ec0-4c91-a06c-ff2da64e245c" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([437330.0, 437340.0, 437350.0, 437360.0, 437370.0, 437380.0, 437390.0,
       437400.0, 437410.0, 437420.0,
       ...
       477230.0, 477240.0, 477250.0, 477260.0, 477270.0, 477280.0, 477290.0,
       477300.0, 477310.0, 477320.0],
      dtype='float64', name='x', length=4000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>y</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-cab0d7f8-2766-4896-adf0-ef2691aebbb7" class="xr-index-data-in" type="checkbox"><label for="index-cab0d7f8-2766-4896-adf0-ef2691aebbb7" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([7722550.0, 7722540.0, 7722530.0, 7722520.0, 7722510.0, 7722500.0,
       7722490.0, 7722480.0, 7722470.0, 7722460.0,
       ...
       7682650.0, 7682640.0, 7682630.0, 7682620.0, 7682610.0, 7682600.0,
       7682590.0, 7682580.0, 7682570.0, 7682560.0],
      dtype='float64', name='y', length=4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-e5c2386d-cc1c-4e6b-8a19-ea8243a2fab3" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-e5c2386d-cc1c-4e6b-8a19-ea8243a2fab3" class="xr-section-summary" title="Expand/collapse section">Attributes: <span>(0)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"></dl></div></li></ul></div></div>
</div>
</div>
<div id="970b00dd-7d99-4355-9bf0-77928297ec3e" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>base_autumn.rio.write_crs(<span class="st">'EPSG:3067'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#base_autumn.astype(np.uint8).rio.to_raster('stac_data/autumn_base.tif')  # Uncomment to save the file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "â–º";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "â–¼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray 'sentinel_2_monthly_index_mosaics_at_fmi' (y: 4000, x: 4000)&gt; Size: 128MB
dask.array&lt;nanmedian, shape=(4000, 4000), dtype=float64, chunksize=(965, 965), chunktype=numpy.ndarray&gt;
Coordinates:
    band                       &lt;U4 16B 'ndvi'
  * x                          (x) float64 32kB 4.373e+05 ... 4.773e+05
  * y                          (y) float64 32kB 7.723e+06 ... 7.683e+06
    gsd                        float64 8B 10.0
    proj:code                  &lt;U9 36B 'EPSG:3067'
    proj:transform             object 8B {0, 1, 7800000, 10, 50000, -10}
    title                      &lt;U4 16B 'ndvi'
    epsg                       int64 8B 32635
    cubo:distance_from_center  (y, x) float64 128MB 2.828e+04 ... 2.827e+04
    spatial_ref                int64 8B 0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name">'sentinel_2_monthly_index_mosaics_at_fmi'</div><ul class="xr-dim-list"><li><span class="xr-has-index">y</span>: 4000</li><li><span class="xr-has-index">x</span>: 4000</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-e04c441d-7111-4786-8827-8f480c779091" class="xr-array-in" type="checkbox" checked=""><label for="section-e04c441d-7111-4786-8827-8f480c779091" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>dask.array&lt;chunksize=(965, 965), meta=np.ndarray&gt;</span></div><div class="xr-array-data">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td><table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th></th>
<th data-quarto-table-cell-role="th">Array</th>
<th data-quarto-table-cell-role="th">Chunk</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bytes</td>
<td>122.07 MiB</td>
<td>7.10 MiB</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Shape</td>
<td>(4000, 4000)</td>
<td>(965, 965)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Dask graph</td>
<td colspan="2">25 chunks in 7 graph layers</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Data type</td>
<td colspan="2">float64 numpy.ndarray</td>
</tr>
</tbody>
</table></td>
<td><svg width="170" height="170" style="stroke:rgb(0,0,0);stroke-width:1">
<!-- Horizontal lines --> <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2"></line> <line x1="0" y1="28" x2="120" y2="28"></line> <line x1="0" y1="57" x2="120" y2="57"></line> <line x1="0" y1="86" x2="120" y2="86"></line> <line x1="0" y1="115" x2="120" y2="115"></line> <line x1="0" y1="120" x2="120" y2="120" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="0" y1="0" x2="0" y2="120" style="stroke-width:2"></line> <line x1="28" y1="0" x2="28" y2="120"></line> <line x1="57" y1="0" x2="57" y2="120"></line> <line x1="86" y1="0" x2="86" y2="120"></line> <line x1="115" y1="0" x2="115" y2="120"></line> <line x1="120" y1="0" x2="120" y2="120" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="0.0,0.0 120.0,0.0 120.0,120.0 0.0,120.0" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Text --> <text x="60.000000" y="140.000000" font-size="1.0rem" font-weight="100" text-anchor="middle">4000</text> <text x="140.000000" y="60.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,140.000000,60.000000)">4000</text>
</svg></td>
</tr>
</tbody>
</table>
</div></div></li><li class="xr-section-item"><input id="section-314afa66-1a38-4fe2-acbf-cbdeef7fcd92" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-314afa66-1a38-4fe2-acbf-cbdeef7fcd92" class="xr-section-summary">Coordinates: <span>(10)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>band</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-ec2f23ef-1831-4a6e-84d9-b3d972e05fca" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ec2f23ef-1831-4a6e-84d9-b3d972e05fca" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-2f6181e3-e0c8-4ffa-9fdf-e3639752face" class="xr-var-data-in" type="checkbox"><label for="data-2f6181e3-e0c8-4ffa-9fdf-e3639752face" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('ndvi', dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">x</span></div><div class="xr-var-dims">(x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">4.373e+05 4.373e+05 ... 4.773e+05</div><input id="attrs-257e8825-d453-4d2d-b722-dfeb91b78754" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-257e8825-d453-4d2d-b722-dfeb91b78754" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-f5a03c52-f6cb-49a0-a72c-185129ca6cfb" class="xr-var-data-in" type="checkbox"><label for="data-f5a03c52-f6cb-49a0-a72c-185129ca6cfb" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([437330., 437340., 437350., ..., 477300., 477310., 477320.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">y</span></div><div class="xr-var-dims">(y)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">7.723e+06 7.723e+06 ... 7.683e+06</div><input id="attrs-a1ecf58a-625a-43f8-9325-707af5c93541" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-a1ecf58a-625a-43f8-9325-707af5c93541" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-35bd2e9a-de54-4574-83f7-8f266f3a63a0" class="xr-var-data-in" type="checkbox"><label for="data-35bd2e9a-de54-4574-83f7-8f266f3a63a0" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([7722550., 7722540., 7722530., ..., 7682580., 7682570., 7682560.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>gsd</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">10.0</div><input id="attrs-80c9ff42-a2bd-4372-8d52-a539ab9015b5" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-80c9ff42-a2bd-4372-8d52-a539ab9015b5" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-715f58be-7451-440b-b331-f891d24f0805" class="xr-var-data-in" type="checkbox"><label for="data-715f58be-7451-440b-b331-f891d24f0805" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(10.)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:code</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U9</div><div class="xr-var-preview xr-preview">'EPSG:3067'</div><input id="attrs-0b9ebd92-651c-4b38-96d1-c0b06da15be1" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-0b9ebd92-651c-4b38-96d1-c0b06da15be1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a7fb8555-83bf-413b-a839-639da3c76603" class="xr-var-data-in" type="checkbox"><label for="data-a7fb8555-83bf-413b-a839-639da3c76603" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('EPSG:3067', dtype='&lt;U9')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:transform</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">object</div><div class="xr-var-preview xr-preview">{0, 1, 7800000, 10, 50000, -10}</div><input id="attrs-fe52033b-d04b-4981-99fa-6bfe28b6f330" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-fe52033b-d04b-4981-99fa-6bfe28b6f330" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-10e015bf-bd5f-482b-add7-cbaa10072ef1" class="xr-var-data-in" type="checkbox"><label for="data-10e015bf-bd5f-482b-add7-cbaa10072ef1" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array({0, 1, 7800000, 10, 50000, -10}, dtype=object)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>title</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-7402b896-4e3d-4a10-a97e-99361ab9d8de" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-7402b896-4e3d-4a10-a97e-99361ab9d8de" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-9049e612-e034-4bfb-9b72-03a2ff6a8e53" class="xr-var-data-in" type="checkbox"><label for="data-9049e612-e034-4bfb-9b72-03a2ff6a8e53" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('ndvi', dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>epsg</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">32635</div><input id="attrs-33a4b1e9-e74d-4f45-84cf-2b32dd473e88" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-33a4b1e9-e74d-4f45-84cf-2b32dd473e88" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-cfab755e-09c2-4866-8cdd-174bfcc40f73" class="xr-var-data-in" type="checkbox"><label for="data-cfab755e-09c2-4866-8cdd-174bfcc40f73" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(32635)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>cubo:distance_from_center</span></div><div class="xr-var-dims">(y, x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.828e+04 2.828e+04 ... 2.827e+04</div><input id="attrs-1e4cdcb1-9599-4571-a5dd-cc34d58a1ae8" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-1e4cdcb1-9599-4571-a5dd-cc34d58a1ae8" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-81314bc2-9a66-4219-8650-cfe3c6b00857" class="xr-var-data-in" type="checkbox"><label for="data-81314bc2-9a66-4219-8650-cfe3c6b00857" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[28284.27205024, 28277.20009856, 28270.1299151 , ...,
        28255.99502103, 28263.06166413, 28270.1300781 ],
       [28277.20363494, 28270.12991505, 28263.05796294, ...,
        28248.91953028, 28255.98794292, 28263.05812599],
       [28270.13698962, 28263.06150108, 28255.98777987, ...,
        28241.84580774, 28248.91599036, 28255.98794296],
       ...,
       [28270.13698875, 28263.06150021, 28255.987779  , ...,
        28241.84580687, 28248.91598949, 28255.98794209],
       [28277.20363407, 28270.12991418, 28263.05796207, ...,
        28248.91952941, 28255.98794205, 28263.05812511],
       [28284.27204936, 28277.20009769, 28270.12991422, ...,
        28255.99502015, 28263.06166326, 28270.13007723]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>spatial_ref</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0</div><input id="attrs-26adf2b6-23f9-457c-8dd0-6c5de74de7fa" class="xr-var-attrs-in" type="checkbox"><label for="attrs-26adf2b6-23f9-457c-8dd0-6c5de74de7fa" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-0dbadf67-93d1-43c5-a257-9d4929e1cf04" class="xr-var-data-in" type="checkbox"><label for="data-0dbadf67-93d1-43c5-a257-9d4929e1cf04" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>crs_wkt :</span></dt><dd>PROJCS["EUREF-FIN / TM35FIN(E,N)",GEOGCS["EUREF-FIN",DATUM["EUREF-FIN",SPHEROID["GRS 1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],AUTHORITY["EPSG","1391"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","10690"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",27],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","3067"]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314140356</dd><dt><span>inverse_flattening :</span></dt><dd>298.257222101</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>GRS 1980</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>EUREF-FIN</dd><dt><span>horizontal_datum_name :</span></dt><dd>EUREF-FIN</dd><dt><span>projected_crs_name :</span></dt><dd>EUREF-FIN / TM35FIN(E,N)</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>27.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS["EUREF-FIN / TM35FIN(E,N)",GEOGCS["EUREF-FIN",DATUM["EUREF-FIN",SPHEROID["GRS 1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],AUTHORITY["EPSG","1391"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","10690"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",27],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","3067"]]</dd></dl></div><div class="xr-var-data"><pre>array(0)</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-398417f9-79db-4081-8881-cf42fd09b4e3" class="xr-section-summary-in" type="checkbox"><label for="section-398417f9-79db-4081-8881-cf42fd09b4e3" class="xr-section-summary">Indexes: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>x</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-0ecc03d4-6820-4f21-b43f-7196025afae6" class="xr-index-data-in" type="checkbox"><label for="index-0ecc03d4-6820-4f21-b43f-7196025afae6" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([437330.0, 437340.0, 437350.0, 437360.0, 437370.0, 437380.0, 437390.0,
       437400.0, 437410.0, 437420.0,
       ...
       477230.0, 477240.0, 477250.0, 477260.0, 477270.0, 477280.0, 477290.0,
       477300.0, 477310.0, 477320.0],
      dtype='float64', name='x', length=4000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>y</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-7d5d3edb-bf58-44ac-9505-92316abddd11" class="xr-index-data-in" type="checkbox"><label for="index-7d5d3edb-bf58-44ac-9505-92316abddd11" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([7722550.0, 7722540.0, 7722530.0, 7722520.0, 7722510.0, 7722500.0,
       7722490.0, 7722480.0, 7722470.0, 7722460.0,
       ...
       7682650.0, 7682640.0, 7682630.0, 7682620.0, 7682610.0, 7682600.0,
       7682590.0, 7682580.0, 7682570.0, 7682560.0],
      dtype='float64', name='y', length=4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-e0ddc17d-3ed4-4e96-9553-7f9d72d60278" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-e0ddc17d-3ed4-4e96-9553-7f9d72d60278" class="xr-section-summary" title="Expand/collapse section">Attributes: <span>(0)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"></dl></div></li></ul></div></div>
</div>
</div>
</section>
<section id="fill-gaps-with-the-maximum-value-of-previous-two-years" class="level2">
<h2 class="anchored" data-anchor-id="fill-gaps-with-the-maximum-value-of-previous-two-years">Fill gaps with the maximum value of previous two years</h2>
<p>Use the data from full months, i.e.&nbsp;between the first and the last day.</p>
<p>As this step needs two previous years of data, the earliest year that can be processed from Sentinel-2 data is 2018.</p>
<div id="60764fea-2977-44e5-bb3c-6c8cf60aaf05" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>da <span class="op">=</span> da.sel(time<span class="op">=</span>da.time.dt.day<span class="op">==</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Reshape to <code>year</code>, <code>month</code> indexable DataArray.</p>
<div id="6b1fa747-7375-42b8-b176-fc9cfeff6e68" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>da <span class="op">=</span> da.assign_coords(year<span class="op">=</span>da.time.dt.year, month<span class="op">=</span>da.time.dt.month)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>da <span class="op">=</span> da.set_index(time<span class="op">=</span>[<span class="st">'year'</span>, <span class="st">'month'</span>]).unstack(<span class="st">'time'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Create a <code>DataArray</code> for filled data.</p>
<div id="cdc1fb75-1dc9-4ccb-9edd-fb881e2cac32" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>da_filled <span class="op">=</span> da.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b4487a41-5094-41f2-8a38-3c06fe47d589" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>da_y1 <span class="op">=</span> da.shift(year<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>da_y2 <span class="op">=</span> da.shift(year<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>prev_max <span class="op">=</span> xr.concat([da_y1, da_y2], dim<span class="op">=</span><span class="st">'source'</span>).<span class="bu">max</span>(dim<span class="op">=</span><span class="st">'source'</span>, skipna<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>da_filled <span class="op">=</span> xr.where(da_filled.notnull(), da_filled, prev_max)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="fill-april-and-may-with-spring-mosaic" class="level2">
<h2 class="anchored" data-anchor-id="fill-april-and-may-with-spring-mosaic">Fill April and May with spring mosaic</h2>
<div id="3ed56bd5-1c1d-418d-ba79-0bbf0e5781dc" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>spring_msk <span class="op">=</span> da_filled.month.isin([<span class="dv">4</span>,<span class="dv">5</span>])</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>da_filled <span class="op">=</span> xr.where(da_filled.notnull() <span class="op">|</span> spring_msk, da_filled, base_spring)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="fill-october-with-autumn-mosaic" class="level2">
<h2 class="anchored" data-anchor-id="fill-october-with-autumn-mosaic">Fill October with autumn mosaic</h2>
<div id="bf0a804d-8be0-422c-b85d-8805c8d51d68" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>aut_msk <span class="op">=</span> da_filled.month <span class="op">==</span> <span class="dv">10</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>da_filled <span class="op">=</span> xr.where(da_filled.notnull() <span class="op">|</span> aut_msk, da_filled, base_autumn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="fill-growth-season-months-with-mean-values-of-previous-and-next-month-of-the-same-year" class="level2">
<h2 class="anchored" data-anchor-id="fill-growth-season-months-with-mean-values-of-previous-and-next-month-of-the-same-year">Fill growth season months with mean values of previous and next month of the same year</h2>
<p>There are some areas where growth season has gaps, and they are filled with the mean values of the two adjacent months.</p>
<div id="0411436b-314f-46d4-bce4-d5a13f7636a1" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>da_m1 <span class="op">=</span> da_filled.shift(month<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>da_m2 <span class="op">=</span> da_filled.shift(month<span class="op">=-</span><span class="dv">1</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>monthmeans <span class="op">=</span> xr.concat([da_m1, da_m2], dim<span class="op">=</span><span class="st">'source'</span>).mean(dim<span class="op">=</span><span class="st">'source'</span>, skipna<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>gr_mask <span class="op">=</span> da_filled.month.isin([<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>])</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>da_filled <span class="op">=</span> xr.where(da_filled.notnull() <span class="op">|</span> gr_mask, da_filled, monthmeans)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e3c27064-21b0-4236-8835-2fc7f98f3495" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>da_filled <span class="op">=</span> da_filled.sel(year<span class="op">=</span>da_filled.year <span class="op">&gt;=</span> <span class="dv">2018</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>da_filled.rio.write_crs(<span class="st">'EPSG:3067'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "â–º";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "â–¼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray (band: 1, y: 4000, x: 4000, year: 7, month: 7)&gt; Size: 6GB
dask.array&lt;getitem, shape=(1, 4000, 4000, 7, 7), dtype=float64, chunksize=(1, 788, 788, 1, 1), chunktype=numpy.ndarray&gt;
Coordinates: (12/15)
  * year                       (year) int64 56B 2018 2019 2020 ... 2023 2024
  * month                      (month) int64 56B 4 5 6 7 8 9 10
    id                         (year, month) &lt;U49 10kB 'Sentinel-2_indeksimos...
  * band                       (band) &lt;U4 16B 'ndvi'
  * x                          (x) float64 32kB 4.373e+05 ... 4.773e+05
  * y                          (y) float64 32kB 7.723e+06 ... 7.683e+06
    ...                         ...
    end_datetime               (year, month) &lt;U29 6kB '2018-04-30T23:59:59.00...
    proj:transform             object 8B {0, 1, 7800000, 10, 50000, -10}
    title                      &lt;U4 16B 'ndvi'
    epsg                       int64 8B 32635
    cubo:distance_from_center  (y, x) float64 128MB 2.828e+04 ... 2.827e+04
    spatial_ref                int64 8B 0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name"></div><ul class="xr-dim-list"><li><span class="xr-has-index">band</span>: 1</li><li><span class="xr-has-index">y</span>: 4000</li><li><span class="xr-has-index">x</span>: 4000</li><li><span class="xr-has-index">year</span>: 7</li><li><span class="xr-has-index">month</span>: 7</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-f46a57da-25db-4e2a-8064-c83e2dc66099" class="xr-array-in" type="checkbox" checked=""><label for="section-f46a57da-25db-4e2a-8064-c83e2dc66099" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>dask.array&lt;chunksize=(1, 788, 788, 1, 1), meta=np.ndarray&gt;</span></div><div class="xr-array-data">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td><table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th></th>
<th data-quarto-table-cell-role="th">Array</th>
<th data-quarto-table-cell-role="th">Chunk</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bytes</td>
<td>5.84 GiB</td>
<td>4.74 MiB</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Shape</td>
<td>(1, 4000, 4000, 7, 7)</td>
<td>(1, 788, 788, 1, 1)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Dask graph</td>
<td colspan="2">8281 chunks in 67 graph layers</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Data type</td>
<td colspan="2">float64 numpy.ndarray</td>
</tr>
</tbody>
</table></td>
<td><svg width="526" height="146" style="stroke:rgb(0,0,0);stroke-width:1">
<!-- Horizontal lines --> <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2"></line> <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2"></line> <line x1="23" y1="0" x2="23" y2="25"></line> <line x1="28" y1="0" x2="28" y2="25"></line> <line x1="30" y1="0" x2="30" y2="25"></line> <line x1="47" y1="0" x2="47" y2="25"></line> <line x1="57" y1="0" x2="57" y2="25"></line> <line x1="61" y1="0" x2="61" y2="25"></line> <line x1="70" y1="0" x2="70" y2="25"></line> <line x1="86" y1="0" x2="86" y2="25"></line> <line x1="92" y1="0" x2="92" y2="25"></line> <line x1="94" y1="0" x2="94" y2="25"></line> <line x1="115" y1="0" x2="115" y2="25"></line> <line x1="118" y1="0" x2="118" y2="25"></line> <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Text --> <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle">4000</text> <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text> <!-- Horizontal lines --> <line x1="190" y1="0" x2="260" y2="70" style="stroke-width:2"></line> <line x1="190" y1="3" x2="260" y2="74"></line> <line x1="190" y1="7" x2="260" y2="77"></line> <line x1="190" y1="10" x2="260" y2="81"></line> <line x1="190" y1="14" x2="260" y2="85"></line> <line x1="190" y1="18" x2="260" y2="88"></line> <line x1="190" y1="21" x2="260" y2="92"></line> <line x1="190" y1="25" x2="260" y2="96" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="190" y1="0" x2="190" y2="25" style="stroke-width:2"></line> <line x1="203" y1="13" x2="203" y2="39"></line> <line x1="207" y1="17" x2="207" y2="42"></line> <line x1="208" y1="18" x2="208" y2="43"></line> <line x1="217" y1="27" x2="217" y2="53"></line> <line x1="224" y1="34" x2="224" y2="59"></line> <line x1="226" y1="36" x2="226" y2="61"></line> <line x1="231" y1="41" x2="231" y2="67"></line> <line x1="241" y1="51" x2="241" y2="76"></line> <line x1="244" y1="54" x2="244" y2="79"></line> <line x1="245" y1="55" x2="245" y2="81"></line> <line x1="258" y1="68" x2="258" y2="93"></line> <line x1="259" y1="69" x2="259" y2="94"></line> <line x1="260" y1="70" x2="260" y2="96" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="190.0,0.0 260.5882352941177,70.58823529411765 260.5882352941177,96.00085180870013 190.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Horizontal lines --> <line x1="190" y1="0" x2="215" y2="0" style="stroke-width:2"></line> <line x1="203" y1="13" x2="229" y2="13"></line> <line x1="207" y1="17" x2="232" y2="17"></line> <line x1="208" y1="18" x2="233" y2="18"></line> <line x1="217" y1="27" x2="243" y2="27"></line> <line x1="224" y1="34" x2="249" y2="34"></line> <line x1="226" y1="36" x2="251" y2="36"></line> <line x1="231" y1="41" x2="257" y2="41"></line> <line x1="241" y1="51" x2="266" y2="51"></line> <line x1="244" y1="54" x2="269" y2="54"></line> <line x1="245" y1="55" x2="271" y2="55"></line> <line x1="258" y1="68" x2="283" y2="68"></line> <line x1="259" y1="69" x2="284" y2="69"></line> <line x1="260" y1="70" x2="286" y2="70" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="190" y1="0" x2="260" y2="70" style="stroke-width:2"></line> <line x1="193" y1="0" x2="264" y2="70"></line> <line x1="197" y1="0" x2="267" y2="70"></line> <line x1="200" y1="0" x2="271" y2="70"></line> <line x1="204" y1="0" x2="275" y2="70"></line> <line x1="208" y1="0" x2="278" y2="70"></line> <line x1="211" y1="0" x2="282" y2="70"></line> <line x1="215" y1="0" x2="286" y2="70" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="190.0,0.0 215.41261651458248,0.0 286.00085180870013,70.58823529411765 260.5882352941177,70.58823529411765" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Horizontal lines --> <line x1="260" y1="70" x2="286" y2="70" style="stroke-width:2"></line> <line x1="260" y1="74" x2="286" y2="74"></line> <line x1="260" y1="77" x2="286" y2="77"></line> <line x1="260" y1="81" x2="286" y2="81"></line> <line x1="260" y1="85" x2="286" y2="85"></line> <line x1="260" y1="88" x2="286" y2="88"></line> <line x1="260" y1="92" x2="286" y2="92"></line> <line x1="260" y1="96" x2="286" y2="96" style="stroke-width:2"></line> <!-- Vertical lines --> <line x1="260" y1="70" x2="260" y2="96" style="stroke-width:2"></line> <line x1="264" y1="70" x2="264" y2="96"></line> <line x1="267" y1="70" x2="267" y2="96"></line> <line x1="271" y1="70" x2="271" y2="96"></line> <line x1="275" y1="70" x2="275" y2="96"></line> <line x1="278" y1="70" x2="278" y2="96"></line> <line x1="282" y1="70" x2="282" y2="96"></line> <line x1="286" y1="70" x2="286" y2="96" style="stroke-width:2"></line> <!-- Colored Rectangle --> <polygon points="260.5882352941177,70.58823529411765 286.0008518087002,70.58823529411765 286.0008518087002,96.00085180870013 260.5882352941177,96.00085180870013" style="fill:#ECB172A0;stroke-width:0"></polygon> <!-- Text --> <text x="273.294544" y="116.000852" font-size="1.0rem" font-weight="100" text-anchor="middle">7</text> <text x="306.000852" y="83.294544" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,306.000852,83.294544)">7</text> <text x="215.294118" y="80.706734" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,215.294118,80.706734)">4000</text>
</svg></td>
</tr>
</tbody>
</table>
</div></div></li><li class="xr-section-item"><input id="section-e2118b02-3b3b-4b93-944f-97597dcd66fd" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-e2118b02-3b3b-4b93-944f-97597dcd66fd" class="xr-section-summary">Coordinates: <span>(15)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">year</span></div><div class="xr-var-dims">(year)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">2018 2019 2020 2021 2022 2023 2024</div><input id="attrs-bb8c8eba-bd66-4f3a-bc83-6100699d3896" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-bb8c8eba-bd66-4f3a-bc83-6100699d3896" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-79ffb3ae-fc68-4cb1-8550-29fe3653867e" class="xr-var-data-in" type="checkbox"><label for="data-79ffb3ae-fc68-4cb1-8550-29fe3653867e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([2018, 2019, 2020, 2021, 2022, 2023, 2024])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">month</span></div><div class="xr-var-dims">(month)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">4 5 6 7 8 9 10</div><input id="attrs-aacfb022-0de0-4cbd-a196-b0dbc8629965" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-aacfb022-0de0-4cbd-a196-b0dbc8629965" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-0a338174-4aeb-423b-8d59-9a1046997d22" class="xr-var-data-in" type="checkbox"><label for="data-0a338174-4aeb-423b-8d59-9a1046997d22" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([ 4,  5,  6,  7,  8,  9, 10])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>id</span></div><div class="xr-var-dims">(year, month)</div><div class="xr-var-dtype">&lt;U49</div><div class="xr-var-preview xr-preview">'Sentinel-2_indeksimosaiikki_201...</div><input id="attrs-10e48e8b-746a-48a8-9023-c1c3b74f3339" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-10e48e8b-746a-48a8-9023-c1c3b74f3339" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-841c4614-49cb-4b62-989a-dee83078234a" class="xr-var-data-in" type="checkbox"><label for="data-841c4614-49cb-4b62-989a-dee83078234a" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([['Sentinel-2_indeksimosaiikki_2018-04-01_2018-04-30',
        'Sentinel-2_indeksimosaiikki_2018-05-01_2018-05-31',
        'Sentinel-2_indeksimosaiikki_2018-06-01_2018-06-30',
        'Sentinel-2_indeksimosaiikki_2018-07-01_2018-07-31',
        'Sentinel-2_indeksimosaiikki_2018-08-01_2018-08-31',
        'Sentinel-2_indeksimosaiikki_2018-09-01_2018-09-30',
        'Sentinel-2_indeksimosaiikki_2018-10-01_2018-10-31'],
       ['Sentinel-2_indeksimosaiikki_2019-04-01_2019-04-30',
        'Sentinel-2_indeksimosaiikki_2019-05-01_2019-05-31',
        'Sentinel-2_indeksimosaiikki_2019-06-01_2019-06-30',
        'Sentinel-2_indeksimosaiikki_2019-07-01_2019-07-31',
        'Sentinel-2_indeksimosaiikki_2019-08-01_2019-08-31',
        'Sentinel-2_indeksimosaiikki_2019-09-01_2019-09-30',
        'Sentinel-2_indeksimosaiikki_2019-10-01_2019-10-31'],
       ['Sentinel-2_indeksimosaiikki_2020-04-01_2020-04-30',
        'Sentinel-2_indeksimosaiikki_2020-05-01_2020-05-31',
        'Sentinel-2_indeksimosaiikki_2020-06-01_2020-06-30',
        'Sentinel-2_indeksimosaiikki_2020-07-01_2020-07-31',
        'Sentinel-2_indeksimosaiikki_2020-08-01_2020-08-31',
        'Sentinel-2_indeksimosaiikki_2020-09-01_2020-09-30',
...
        'Sentinel-2_indeksimosaiikki_2022-06-01_2022-06-30',
        'Sentinel-2_indeksimosaiikki_2022-07-01_2022-07-31',
        'Sentinel-2_indeksimosaiikki_2022-08-01_2022-08-31',
        'Sentinel-2_indeksimosaiikki_2022-09-01_2022-09-30',
        'Sentinel-2_indeksimosaiikki_2022-10-01_2022-10-31'],
       ['Sentinel-2_indeksimosaiikki_2023-04-01_2023-04-30',
        'Sentinel-2_indeksimosaiikki_2023-05-01_2023-05-31',
        'Sentinel-2_indeksimosaiikki_2023-06-01_2023-06-30',
        'Sentinel-2_indeksimosaiikki_2023-07-01_2023-07-31',
        'Sentinel-2_indeksimosaiikki_2023-08-01_2023-08-31',
        'Sentinel-2_indeksimosaiikki_2023-09-01_2023-09-30',
        'Sentinel-2_indeksimosaiikki_2023-10-01_2023-10-31'],
       ['Sentinel-2_indeksimosaiikki_2024-04-01_2024-04-30',
        'Sentinel-2_indeksimosaiikki_2024-05-01_2024-05-31',
        'Sentinel-2_indeksimosaiikki_2024-06-01_2024-06-30',
        'Sentinel-2_indeksimosaiikki_2024-07-01_2024-07-31',
        'Sentinel-2_indeksimosaiikki_2024-08-01_2024-08-31',
        'Sentinel-2_indeksimosaiikki_2024-09-01_2024-09-30',
        'Sentinel-2_indeksimosaiikki_2024-10-01_2024-10-31']],
      dtype='&lt;U49')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">band</span></div><div class="xr-var-dims">(band)</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-f94f04a1-983b-4f9a-a365-c4803a28c0ee" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f94f04a1-983b-4f9a-a365-c4803a28c0ee" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-57caeff3-1871-4c14-85ca-75494ff09db5" class="xr-var-data-in" type="checkbox"><label for="data-57caeff3-1871-4c14-85ca-75494ff09db5" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['ndvi'], dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">x</span></div><div class="xr-var-dims">(x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">4.373e+05 4.373e+05 ... 4.773e+05</div><input id="attrs-194d348d-9a34-4939-986d-86221ce99c71" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-194d348d-9a34-4939-986d-86221ce99c71" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-f55f4470-3177-4f10-bc1f-851fe216dcfe" class="xr-var-data-in" type="checkbox"><label for="data-f55f4470-3177-4f10-bc1f-851fe216dcfe" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([437330., 437340., 437350., ..., 477300., 477310., 477320.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">y</span></div><div class="xr-var-dims">(y)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">7.723e+06 7.723e+06 ... 7.683e+06</div><input id="attrs-6e598a6e-770e-4757-b135-dc601ae00da4" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-6e598a6e-770e-4757-b135-dc601ae00da4" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-80f57ba5-75d8-41c7-97c6-ee8076727c3b" class="xr-var-data-in" type="checkbox"><label for="data-80f57ba5-75d8-41c7-97c6-ee8076727c3b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([7722550., 7722540., 7722530., ..., 7682580., 7682570., 7682560.])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>start_datetime</span></div><div class="xr-var-dims">(year, month)</div><div class="xr-var-dtype">&lt;U29</div><div class="xr-var-preview xr-preview">'2018-04-01T00:00:00.000+00:00' ...</div><input id="attrs-8f7fbd15-74d3-4813-b4a9-288cf3127236" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-8f7fbd15-74d3-4813-b4a9-288cf3127236" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-f0534672-fcb5-4c73-9a56-8f086720d20c" class="xr-var-data-in" type="checkbox"><label for="data-f0534672-fcb5-4c73-9a56-8f086720d20c" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([['2018-04-01T00:00:00.000+00:00', '2018-05-01T00:00:00.000+00:00',
        '2018-06-01T00:00:00.000+00:00', '2018-07-01T00:00:00.000+00:00',
        '2018-08-01T00:00:00.000+00:00', '2018-09-01T00:00:00.000+00:00',
        '2018-10-01T00:00:00.000+00:00'],
       ['2019-04-01T00:00:00.000+00:00', '2019-05-01T00:00:00.000+00:00',
        '2019-06-01T00:00:00.000+00:00', '2019-07-01T00:00:00.000+00:00',
        '2019-08-01T00:00:00.000+00:00', '2019-09-01T00:00:00.000+00:00',
        '2019-10-01T00:00:00.000+00:00'],
       ['2020-04-01T00:00:00.000+00:00', '2020-05-01T00:00:00.000+00:00',
        '2020-06-01T00:00:00.000+00:00', '2020-07-01T00:00:00.000+00:00',
        '2020-08-01T00:00:00.000+00:00', '2020-09-01T00:00:00.000+00:00',
        '2020-10-01T00:00:00.000+00:00'],
       ['2021-04-01T00:00:00.000+00:00', '2021-05-01T00:00:00.000+00:00',
        '2021-06-01T00:00:00.000+00:00', '2021-07-01T00:00:00.000+00:00',
        '2021-08-01T00:00:00.000+00:00', '2021-09-01T00:00:00.000+00:00',
        '2021-10-01T00:00:00.000+00:00'],
       ['2022-04-01T00:00:00.000+00:00', '2022-05-01T00:00:00.000+00:00',
        '2022-06-01T00:00:00.000+00:00', '2022-07-01T00:00:00.000+00:00',
        '2022-08-01T00:00:00.000+00:00', '2022-09-01T00:00:00.000+00:00',
        '2022-10-01T00:00:00.000+00:00'],
       ['2023-04-01T00:00:00.000+00:00', '2023-05-01T00:00:00.000+00:00',
        '2023-06-01T00:00:00.000+00:00', '2023-07-01T00:00:00.000+00:00',
        '2023-08-01T00:00:00.000+00:00', '2023-09-01T00:00:00.000+00:00',
        '2023-10-01T00:00:00.000+00:00'],
       ['2024-04-01T00:00:00.000+00:00', '2024-05-01T00:00:00.000+00:00',
        '2024-06-01T00:00:00.000+00:00', '2024-07-01T00:00:00.000+00:00',
        '2024-08-01T00:00:00.000+00:00', '2024-09-01T00:00:00.000+00:00',
        '2024-10-01T00:00:00.000+00:00']], dtype='&lt;U29')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>gsd</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">10.0</div><input id="attrs-36c570c4-4c13-487f-be02-e87dd54cce16" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-36c570c4-4c13-487f-be02-e87dd54cce16" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b6be5e86-038a-4ab7-ae6d-a3156e94934c" class="xr-var-data-in" type="checkbox"><label for="data-b6be5e86-038a-4ab7-ae6d-a3156e94934c" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(10.)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:code</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U9</div><div class="xr-var-preview xr-preview">'EPSG:3067'</div><input id="attrs-09a713ad-9992-42f6-9648-81be940e2210" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-09a713ad-9992-42f6-9648-81be940e2210" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-36994d7d-6fb1-4301-940c-76cbc97f2eb3" class="xr-var-data-in" type="checkbox"><label for="data-36994d7d-6fb1-4301-940c-76cbc97f2eb3" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('EPSG:3067', dtype='&lt;U9')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>end_datetime</span></div><div class="xr-var-dims">(year, month)</div><div class="xr-var-dtype">&lt;U29</div><div class="xr-var-preview xr-preview">'2018-04-30T23:59:59.000+00:00' ...</div><input id="attrs-f73e2348-f96c-4bd9-a725-76c6d6fbbf6b" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f73e2348-f96c-4bd9-a725-76c6d6fbbf6b" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-662233c7-5842-4b92-abea-c689013c6a6d" class="xr-var-data-in" type="checkbox"><label for="data-662233c7-5842-4b92-abea-c689013c6a6d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([['2018-04-30T23:59:59.000+00:00', '2018-05-31T23:59:59.000+00:00',
        '2018-06-30T23:59:59.000+00:00', '2018-07-31T23:59:59.000+00:00',
        '2018-08-31T23:59:59.000+00:00', '2018-09-30T23:59:59.000+00:00',
        '2018-10-31T23:59:59.000+00:00'],
       ['2019-04-30T23:59:59.000+00:00', '2019-05-31T23:59:59.000+00:00',
        '2019-06-30T23:59:59.000+00:00', '2019-07-31T23:59:59.000+00:00',
        '2019-08-31T23:59:59.000+00:00', '2019-09-30T23:59:59.000+00:00',
        '2019-10-31T23:59:59.000+00:00'],
       ['2020-04-30T23:59:59.000+00:00', '2020-05-31T23:59:59.000+00:00',
        '2020-06-30T23:59:59.000+00:00', '2020-07-31T23:59:59.000+00:00',
        '2020-08-31T23:59:59.000+00:00', '2020-09-30T23:59:59.000+00:00',
        '2020-10-31T23:59:59.000+00:00'],
       ['2021-04-30T23:59:59.000+00:00', '2021-05-31T23:59:59.000+00:00',
        '2021-06-30T23:59:59.000+00:00', '2021-07-31T23:59:59.000+00:00',
        '2021-08-31T23:59:59.000+00:00', '2021-09-30T23:59:59.000+00:00',
        '2021-10-31T23:59:59.000+00:00'],
       ['2022-04-30T23:59:59.000+00:00', '2022-05-31T23:59:59.000+00:00',
        '2022-06-30T23:59:59.000+00:00', '2022-07-31T23:59:59.000+00:00',
        '2022-08-31T23:59:59.000+00:00', '2022-09-30T23:59:59.000+00:00',
        '2022-10-31T23:59:59.000+00:00'],
       ['2023-04-30T23:59:59.000+00:00', '2023-05-31T23:59:59.000+00:00',
        '2023-06-30T23:59:59.000+00:00', '2023-07-31T23:59:59.000+00:00',
        '2023-08-31T23:59:59.000+00:00', '2023-09-30T23:59:59.000+00:00',
        '2023-10-31T23:59:59.000+00:00'],
       ['2024-04-30T23:59:59.000+00:00', '2024-05-31T23:59:59.000+00:00',
        '2024-06-30T23:59:59.000+00:00', '2024-07-31T23:59:59.000+00:00',
        '2024-08-31T23:59:59.000+00:00', '2024-09-30T23:59:59.000+00:00',
        '2024-10-31T23:59:59.000+00:00']], dtype='&lt;U29')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>proj:transform</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">object</div><div class="xr-var-preview xr-preview">{0, 1, 7800000, 10, 50000, -10}</div><input id="attrs-55a2fd8b-2cf6-4052-8625-eeea1a412a41" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-55a2fd8b-2cf6-4052-8625-eeea1a412a41" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-bf271f51-c015-4861-bf91-4b28b1a116e3" class="xr-var-data-in" type="checkbox"><label for="data-bf271f51-c015-4861-bf91-4b28b1a116e3" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array({0, 1, 7800000, 10, 50000, -10}, dtype=object)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>title</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">&lt;U4</div><div class="xr-var-preview xr-preview">'ndvi'</div><input id="attrs-216a3ddb-ac1a-4ad7-87d5-f082eba4eba7" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-216a3ddb-ac1a-4ad7-87d5-f082eba4eba7" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b33fe9f7-feff-4902-a9ef-142db289a8f8" class="xr-var-data-in" type="checkbox"><label for="data-b33fe9f7-feff-4902-a9ef-142db289a8f8" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array('ndvi', dtype='&lt;U4')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>epsg</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">32635</div><input id="attrs-a940c621-bc1b-4330-adfd-5867859dfbd0" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-a940c621-bc1b-4330-adfd-5867859dfbd0" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-358c5733-28c6-4f74-87f8-52f1005278cf" class="xr-var-data-in" type="checkbox"><label for="data-358c5733-28c6-4f74-87f8-52f1005278cf" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(32635)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>cubo:distance_from_center</span></div><div class="xr-var-dims">(y, x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.828e+04 2.828e+04 ... 2.827e+04</div><input id="attrs-04fa1309-164b-4fb1-8a98-442fc06ab9ea" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-04fa1309-164b-4fb1-8a98-442fc06ab9ea" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ddbd75ab-3d75-4cd1-a0c1-88393a6761e1" class="xr-var-data-in" type="checkbox"><label for="data-ddbd75ab-3d75-4cd1-a0c1-88393a6761e1" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[28284.27205024, 28277.20009856, 28270.1299151 , ...,
        28255.99502103, 28263.06166413, 28270.1300781 ],
       [28277.20363494, 28270.12991505, 28263.05796294, ...,
        28248.91953028, 28255.98794292, 28263.05812599],
       [28270.13698962, 28263.06150108, 28255.98777987, ...,
        28241.84580774, 28248.91599036, 28255.98794296],
       ...,
       [28270.13698875, 28263.06150021, 28255.987779  , ...,
        28241.84580687, 28248.91598949, 28255.98794209],
       [28277.20363407, 28270.12991418, 28263.05796207, ...,
        28248.91952941, 28255.98794205, 28263.05812511],
       [28284.27204936, 28277.20009769, 28270.12991422, ...,
        28255.99502015, 28263.06166326, 28270.13007723]])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>spatial_ref</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0</div><input id="attrs-ceaf65db-1c8c-4eb4-a8d7-63fc951909ab" class="xr-var-attrs-in" type="checkbox"><label for="attrs-ceaf65db-1c8c-4eb4-a8d7-63fc951909ab" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-caf5482b-76ae-4abe-b5ae-227cc0983e63" class="xr-var-data-in" type="checkbox"><label for="data-caf5482b-76ae-4abe-b5ae-227cc0983e63" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>crs_wkt :</span></dt><dd>PROJCS["EUREF-FIN / TM35FIN(E,N)",GEOGCS["EUREF-FIN",DATUM["EUREF-FIN",SPHEROID["GRS 1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],AUTHORITY["EPSG","1391"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","10690"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",27],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","3067"]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314140356</dd><dt><span>inverse_flattening :</span></dt><dd>298.257222101</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>GRS 1980</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>EUREF-FIN</dd><dt><span>horizontal_datum_name :</span></dt><dd>EUREF-FIN</dd><dt><span>projected_crs_name :</span></dt><dd>EUREF-FIN / TM35FIN(E,N)</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>27.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS["EUREF-FIN / TM35FIN(E,N)",GEOGCS["EUREF-FIN",DATUM["EUREF-FIN",SPHEROID["GRS 1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],AUTHORITY["EPSG","1391"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","10690"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",27],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","3067"]]</dd></dl></div><div class="xr-var-data"><pre>array(0)</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-aa6a95d2-d1ac-4eb4-be85-6388a071da66" class="xr-section-summary-in" type="checkbox"><label for="section-aa6a95d2-d1ac-4eb4-be85-6388a071da66" class="xr-section-summary">Indexes: <span>(5)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>year</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-d1864d28-e9c2-45ab-982c-a87af34a4ee9" class="xr-index-data-in" type="checkbox"><label for="index-d1864d28-e9c2-45ab-982c-a87af34a4ee9" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([2018, 2019, 2020, 2021, 2022, 2023, 2024], dtype='int64', name='year'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>month</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-dcd14dec-953d-4fec-a578-15cceef4f2a1" class="xr-index-data-in" type="checkbox"><label for="index-dcd14dec-953d-4fec-a578-15cceef4f2a1" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([4, 5, 6, 7, 8, 9, 10], dtype='int64', name='month'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>band</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-f7229b37-d225-4dc7-8b41-29430a6cae4b" class="xr-index-data-in" type="checkbox"><label for="index-f7229b37-d225-4dc7-8b41-29430a6cae4b" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['ndvi'], dtype='object', name='band'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>x</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-a0878eaf-4108-422a-8a05-fb9eaa27a7f7" class="xr-index-data-in" type="checkbox"><label for="index-a0878eaf-4108-422a-8a05-fb9eaa27a7f7" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([437330.0, 437340.0, 437350.0, 437360.0, 437370.0, 437380.0, 437390.0,
       437400.0, 437410.0, 437420.0,
       ...
       477230.0, 477240.0, 477250.0, 477260.0, 477270.0, 477280.0, 477290.0,
       477300.0, 477310.0, 477320.0],
      dtype='float64', name='x', length=4000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>y</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-e4b41520-e649-46d3-9799-f7b2c2061447" class="xr-index-data-in" type="checkbox"><label for="index-e4b41520-e649-46d3-9799-f7b2c2061447" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([7722550.0, 7722540.0, 7722530.0, 7722520.0, 7722510.0, 7722500.0,
       7722490.0, 7722480.0, 7722470.0, 7722460.0,
       ...
       7682650.0, 7682640.0, 7682630.0, 7682620.0, 7682610.0, 7682600.0,
       7682590.0, 7682580.0, 7682570.0, 7682560.0],
      dtype='float64', name='y', length=4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-b53ac906-9e3f-4791-a396-8600c05b5021" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-b53ac906-9e3f-4791-a396-8600c05b5021" class="xr-section-summary" title="Expand/collapse section">Attributes: <span>(0)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"></dl></div></li></ul></div></div>
</div>
</div>
<p>If the intermediate data need to be saved, it is done by uncommenting the following lines.</p>
<div id="fd61f93d-e227-4727-9d67-0f92d3918c23" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#da_filled = da_filled.compute()</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#da_filled = da_filled.stack(time=['year', 'month']).sortby('time')</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co">#da_filled.rio.write_crs('EPSG:3067', inplace=True)</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">#for t in da_filled['time'].values:</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">#    da_t = da_filled.sel(time=t, band='ndvi')</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#    fname = f"stac_data/filled/filled_{t[0]}_{t[1]}.tif" </span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    da_t.rio.to_raster(fname)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="derive-the-statistics" class="level2">
<h2 class="anchored" data-anchor-id="derive-the-statistics">Derive the statistics</h2>
<p>Max, mean, median and sum are really straightforward.</p>
<div id="90d82535-84be-4ae6-bc0d-17c720bafa07" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>da_filled <span class="op">=</span> da_filled.chunk({<span class="st">'x'</span>:<span class="dv">1024</span>, <span class="st">'y'</span>:<span class="dv">1024</span>, <span class="st">'month'</span>:<span class="op">-</span><span class="dv">1</span>})</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>yearly_max <span class="op">=</span> da_filled.<span class="bu">max</span>(dim<span class="op">=</span><span class="st">'month'</span>, skipna<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>yearly_mean <span class="op">=</span> da_filled.mean(dim<span class="op">=</span><span class="st">'month'</span>, skipna<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>yearly_median <span class="op">=</span> da_filled.median(dim<span class="op">=</span><span class="st">'month'</span>, skipna<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>yearly_sum <span class="op">=</span>  da_filled.<span class="bu">sum</span>(dim<span class="op">=</span><span class="st">'month'</span>, skipna<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e8b1c964-e27a-4a3f-8b55-282f592120b5" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> y <span class="kw">in</span> yearly_max.year.values:</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    yearly_max.sel(year<span class="op">=</span>y, band<span class="op">=</span><span class="st">'ndvi'</span>).compute().rio.write_crs(<span class="st">'EPSG:3067'</span>).astype(np.uint8).rio.to_raster(<span class="ss">f'stac_data/stats/max_</span><span class="sc">{</span>y<span class="sc">}</span><span class="ss">.tif'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b715fe2b-caf0-43ce-8b8d-8a4868d52c65" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> y <span class="kw">in</span> yearly_mean.year.values:</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    yearly_mean.sel(year<span class="op">=</span>y, band<span class="op">=</span><span class="st">'ndvi'</span>).rio.write_crs(<span class="st">'EPSG:3067'</span>).astype(np.uint8).rio.to_raster(<span class="ss">f'stac_data/stats/mean_</span><span class="sc">{</span>y<span class="sc">}</span><span class="ss">.tif'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b12aa5dc-1b8b-49ac-a182-d61a2dd86c2c" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> y <span class="kw">in</span> yearly_median.year.values:</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    yearly_median.sel(year<span class="op">=</span>y, band<span class="op">=</span><span class="st">'ndvi'</span>).rio.write_crs(<span class="st">'EPSG:3067'</span>).astype(np.uint8).rio.to_raster(<span class="ss">f'stac_data/stats/median_</span><span class="sc">{</span>y<span class="sc">}</span><span class="ss">.tif'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="8ab79e5d-d412-43aa-b9bc-b7090e5e427b" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> y <span class="kw">in</span> yearly_sum.year.values:</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    yearly_sum.sel(year<span class="op">=</span>y, band<span class="op">=</span><span class="st">'ndvi'</span>).rio.write_crs(<span class="st">'EPSG:3067'</span>).astype(np.uint16).rio.to_raster(<span class="ss">f'stac_data/stats/sum_</span><span class="sc">{</span>y<span class="sc">}</span><span class="ss">.tif'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Quantiles, on the other hand, not so much. <code>fastnanquantile</code> makes computing them a lot faster.</p>
<div id="a29b3ee9-b9c2-4a6b-b0c1-9bf7bea70c45" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> fastnanquantile <span class="im">import</span> xrcompat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First, the DataArray needs to be rechunked.</p>
<div id="402c2994-ccaf-4128-8572-e6b5c71b1216" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>da_q <span class="op">=</span> da_filled.chunk({<span class="st">'month'</span>:<span class="op">-</span><span class="dv">1</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then <code>xrcompat.xr_apply_nanquantile</code> can be used efficiently. Derive Q10 and Q25.</p>
<div id="23274694-1483-48e7-8504-64a9051114f3" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>yearly_q10 <span class="op">=</span> xrcompat.xr_apply_nanquantile(da_q, q<span class="op">=</span><span class="fl">0.1</span>, dim<span class="op">=</span><span class="st">'month'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="a4671635-ffd0-49ef-ab79-183be95d1f80" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> y <span class="kw">in</span> yearly_q10.year.values:</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    yearly_q10.sel(year<span class="op">=</span>y, band<span class="op">=</span><span class="st">'ndvi'</span>).rio.write_crs(<span class="st">'EPSG:3067'</span>).astype(np.uint8).rio.to_raster(<span class="ss">f'stac_data/stats/q10_</span><span class="sc">{</span>y<span class="sc">}</span><span class="ss">.tif'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f0cf83a4-2860-4534-beeb-8764769da329" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>yearly_q25 <span class="op">=</span> xrcompat.xr_apply_nanquantile(da_q, q<span class="op">=</span><span class="fl">0.25</span>, dim<span class="op">=</span><span class="st">'month'</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> y <span class="kw">in</span> yearly_q25.year.values:</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    yearly_q25.sel(year<span class="op">=</span>y, band<span class="op">=</span><span class="st">'ndvi'</span>).rio.write_crs(<span class="st">'EPSG:3067'</span>).astype(np.uint8).rio.to_raster(<span class="ss">f'stac_data/stats/q25_</span><span class="sc">{</span>y<span class="sc">}</span><span class="ss">.tif'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Amplitude is <span class="math inline">\(max - yearly\_q25\)</span></p>
<div id="988fe4d8-249d-464f-91c9-049130001136" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>yearly_amplitude <span class="op">=</span> yearly_max <span class="op">-</span> yearly_q25</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="40801917-c95a-41a5-802d-c044ce04106e" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> y <span class="kw">in</span> yearly_amplitude.year.values:</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    yearly_amplitude.sel(year<span class="op">=</span>y, band<span class="op">=</span><span class="st">'ndvi'</span>).rio.write_crs(<span class="st">'EPSG:3067'</span>).astype(np.int16).rio.to_raster(<span class="ss">f'stac_data/stats/amp_</span><span class="sc">{</span>y<span class="sc">}</span><span class="ss">.tif'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>